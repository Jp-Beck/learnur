
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://github.com/Jp-Beck/learnur/URScript/">
      
      
        <link rel="prev" href="../URCaps/">
      
      
        <link rel="next" href="../applications/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.6">
    
    
      
        <title>URScript - LearnUr</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0e669242.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#functions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="LearnUr" class="md-header__button md-logo" aria-label="LearnUr" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LearnUr
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              URScript
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Communication%20methods/" class="md-tabs__link">
        
  
    
  
  Communication methods

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../OpenUr/" class="md-tabs__link">
        
  
    
  
  OpenUr

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../URCaps/" class="md-tabs__link">
        
  
    
  
  URCaps

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  URScript

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../applications/" class="md-tabs__link">
        
  
    
  
  Applications

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../blog/" class="md-tabs__link">
        
  
    
  
  Blog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="LearnUr" class="md-nav__button md-logo" aria-label="LearnUr" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    LearnUr
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Communication%20methods/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Communication methods
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../OpenUr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenUr
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../URCaps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    URCaps
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2 1 21h22M12 6l7.53 13H4.47M11 10v4h2v-4m-2 6v2h2v-2"/></svg>
  
  <span class="md-ellipsis">
    URScript
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2 1 21h22M12 6l7.53 13H4.47M11 10v4h2v-4m-2 6v2h2v-2"/></svg>
  
  <span class="md-ellipsis">
    URScript
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    Functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-module-motion" class="md-nav__link">
    13. Module motion
  </a>
  
    <nav class="md-nav" aria-label="13. Module motion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#131-functions" class="md-nav__link">
    13.1 Functions
  </a>
  
    <nav class="md-nav" aria-label="13.1 Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1317-end_force_mode" class="md-nav__link">
    13.1.7 end_force_mode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1318-end_freedrive_mode" class="md-nav__link">
    13.1.8 end_freedrive_mode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1319-end_screw_driving" class="md-nav__link">
    13.1.9 end_screw_driving()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13111-force_modetask_frame-selection_vector-wrench-type-limits" class="md-nav__link">
    13.1.11 force_mode(task_frame, selection_vector, wrench, type, limits)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13112-force_mode_example" class="md-nav__link">
    13.1.12 force_mode_example()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13113-force_mode_set_dampingdamping" class="md-nav__link">
    13.1.13 force_mode_set_damping(damping)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13114-force_mode_set_gain_scalingscaling" class="md-nav__link">
    13.1.14 force_mode_set_gain_scaling(scaling)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13115-freedrive_mode-freeaxes1-1-1-1-1-1-featurep0-0-0-0-0-0" class="md-nav__link">
    13.1.15 freedrive_mode (freeAxes=[1, 1, 1, 1, 1, 1], feature=p[0, 0, 0, 0, 0, 0])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13117-get_freedrive_status" class="md-nav__link">
    13.1.17 get_freedrive_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13118-get_target_tcp_pose_along_path" class="md-nav__link">
    13.1.18 get_target_tcp_pose_along_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13120-movecpose_via-pose_to-a12-v025-r-0-mode0" class="md-nav__link">
    13.1.20 movec(pose_via, pose_to, a=1.2, v=0.25, r =0, mode=0)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13121-movejq-a14-v105-t0-r-0" class="md-nav__link">
    13.1.21 movej(q, a=1.4, v=1.05, t=0, r =0)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13122-movelpose-a12-v025-t0-r0" class="md-nav__link">
    13.1.22 movel(pose, a=1.2, v=0.25, t=0, r=0)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13123-moveppose-a12-v025-r0" class="md-nav__link">
    13.1.23 movep(pose, a=1.2, v=0.25, r=0)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13124-path_offset_disablea20" class="md-nav__link">
    13.1.24 path_offset_disable(a=20)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13125-path_offset_enable" class="md-nav__link">
    13.1.25 path_offset_enable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13126-path_offset_gettype" class="md-nav__link">
    13.1.26 path_offset_get(type)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13127-path_offset_setoffset-type" class="md-nav__link">
    13.1.27 path_offset_set(offset, type)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13128-path_offset_set_alpha_filteralpha" class="md-nav__link">
    13.1.28 path_offset_set_alpha_filter(alpha)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13129-path_offset_set_max_offsettranslimit-rotlimit" class="md-nav__link">
    13.1.29 path_offset_set_max_offset(transLimit, rotLimit)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13130-pause_on_error_codecode-argument" class="md-nav__link">
    13.1.30 pause_on_error_code(code, argument)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13131-position_deviation_warningenabled-threshold08" class="md-nav__link">
    13.1.31 position_deviation_warning(enabled, threshold=0.8)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13132-reset_revolution_counterqnear00-00-00-00-00-00" class="md-nav__link">
    13.1.32 reset_revolution_counter(qNear=[0.0, 0.0, 0.0, 0.0, 0.0, 0.0])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13133-screw_drivingf-v_limit" class="md-nav__link">
    13.1.33 screw_driving(f, v_limit)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13134-servocpose-a12-v025-r0" class="md-nav__link">
    13.1.34 servoc(pose, a=1.2, v=0.25, r=0)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13135-servojq-a-v-t0002-lookahead_time01-gain300" class="md-nav__link">
    13.1.35 servoj(q, a, v, t=0.002, lookahead_time=0.1, gain=300)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13136-set_conveyor_tick_counttick_count-absolute_encoder_resolution0" class="md-nav__link">
    13.1.36 set_conveyor_tick_count(tick_count, absolute_encoder_resolution=0)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13137-set_posq" class="md-nav__link">
    13.1.37 set_pos(q)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13138-set_safety_mode_transition_hardnesstype" class="md-nav__link">
    13.1.38 set_safety_mode_transition_hardness(type)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13139-speedjqd-a-t" class="md-nav__link">
    13.1.39 speedj(qd, a, t)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14-module-internals" class="md-nav__link">
    14. Module Internals
  </a>
  
    <nav class="md-nav" aria-label="14. Module Internals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#141-functions" class="md-nav__link">
    14.1 Functions
  </a>
  
    <nav class="md-nav" aria-label="14.1 Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1411-force" class="md-nav__link">
    14.1.1 force()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1412-get_actual_positions" class="md-nav__link">
    14.1.2 get_actual_positions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1413-get_actual_joint_positions_historysteps0" class="md-nav__link">
    14.1.3 get_actual_joint_positions_history(steps=0)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1414-get_actual_joint_speeds" class="md-nav__link">
    14.1.4 get_actual_joint_speeds()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1415-get_actual_tcp_pose" class="md-nav__link">
    14.1.5 get_actual_tcp_pose()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1416-get_actual_tcp_speed" class="md-nav__link">
    14.1.6 get_actual_tcp_speed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1417-get_actual_tool_flange_pose" class="md-nav__link">
    14.1.7 get_actual_tool_flange_pose()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1418-get_controller_temp" class="md-nav__link">
    14.1.8 get_controller_temp()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1419-get_forward_kinqcurrent_joint_positions-tcpactive_tcp" class="md-nav__link">
    14.1.9 get_forward_kin(q=’current_joint_positions’, tcp=’active_tcp’)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-kinematics" class="md-nav__link">
    What is Kinematics?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-forward-kinematics" class="md-nav__link">
    What is forward kinematics?
  </a>
  
    <nav class="md-nav" aria-label="What is forward kinematics?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#14110-get_inverse_kinx-qnear-maxpositionerror-1e-10maxorientationerror-1e-10tcpactive_tcp" class="md-nav__link">
    14.1.10 get_inverse_kin(x, qnear, maxPositionError =1e-10,maxOrientationError =1e-10,tcp=’active_tcp’)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14111-get_inverse_kin_has_solutionpose-qnear-maxpositionerror1e-10maxorientationerror1e-10-tcpactive_tcp" class="md-nav__link">
    14.1.11 get_inverse_kin_has_solution(pose, qnear, maxPositionError=1E-10,maxOrientationError=1e-10, tcp="active_tcp")
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14112-get_joint_tempj" class="md-nav__link">
    14.1.12 get_joint_temp(j)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14113-get_joint_torques" class="md-nav__link">
    14.1.13 get_joint_torques()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14114-get_steptime" class="md-nav__link">
    14.1.14 get_steptime()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14115-get_target_joint_positions" class="md-nav__link">
    14.1.15 get_target_joint_positions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14116-get_target_joint_speeds" class="md-nav__link">
    14.1.16 get_target_joint_speeds()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14117-get_target_payload" class="md-nav__link">
    14.1.17 get_target_payload()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14118-get_target_payload_cog" class="md-nav__link">
    14.1.18 get_target_payload_cog()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14119-get_target_payload_inertia" class="md-nav__link">
    14.1.19 get_target_payload_inertia()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-rest-of-the-function-explanations-are-to-be-added" class="md-nav__link">
    The rest of the function explanations are to be added!
  </a>
  
    <nav class="md-nav" aria-label="The rest of the function explanations are to be added!">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#14120-get_target_tcp_pose" class="md-nav__link">
    14.1.20 get_target_tcp_pose()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14121-get_target_tcp_speed" class="md-nav__link">
    14.1.21 get_target_tcp_speed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14122-get_target_waypoint" class="md-nav__link">
    14.1.22 get_target_waypoint()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14123-get_tcp_force" class="md-nav__link">
    14.1.23 get_tcp_force()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14124-get_tcp_offset" class="md-nav__link">
    14.1.24 get_tcp_offset()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14125-get_tool_accelerometer_reading" class="md-nav__link">
    14.1.25 get_tool_accelerometer_reading()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14126-get_tool_current" class="md-nav__link">
    14.1.26 get_tool_current()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14127-is_steady" class="md-nav__link">
    14.1.27 is_steady()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14128-is_within_safety_limitspose-qnear" class="md-nav__link">
    14.1.28 is_within_safety_limits(pose, qnear)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14129-popups-titlepopup-warningfalse-errorfalse-blockingfalse" class="md-nav__link">
    14.1.29 popup(s, title=’Popup’, warning=False, error=False, blocking=False)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14130-powerdown" class="md-nav__link">
    14.1.30 powerdown()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14131-set_gravityd" class="md-nav__link">
    14.1.31 set_gravity(d)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14132-set_payloadm-cog" class="md-nav__link">
    14.1.32 set_payload(m, cog)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14133-set_payload_cogcog" class="md-nav__link">
    14.1.33 set_payload_cog(CoG)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14134-set_payload_massm" class="md-nav__link">
    14.1.34 set_payload_mass(m)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14135-set_target_payloadm-cog-inertia0-0-0-0-0-0" class="md-nav__link">
    14.1.35 set_target_payload(m, cog, inertia=[0, 0, 0, 0, 0, 0])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14136-set_tcppose" class="md-nav__link">
    14.1.36 set_tcp(pose)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14137-sleept" class="md-nav__link">
    14.1.37 sleep(t)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14138-str_atsrc-index" class="md-nav__link">
    14.1.38 str_at(src, index)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14139-str_catop1-op2" class="md-nav__link">
    14.1.39 str_cat(op1, op2)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14140-str_emptystr" class="md-nav__link">
    14.1.40 str_empty(str)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14141-str_findsrc-target-start_from0" class="md-nav__link">
    14.1.41 str_find(src, target, start_from=0)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14142-str_lenstr" class="md-nav__link">
    14.1.42 str_len(str)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14143-str_subsrc-index-len" class="md-nav__link">
    14.1.43 str_sub(src, index, len)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14144-sync" class="md-nav__link">
    14.1.44 sync()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14145-textmsgs1-s2" class="md-nav__link">
    14.1.45 textmsg(s1, s2=’’)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14146-to_numstr" class="md-nav__link">
    14.1.46 to_num(str )
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14147-to_strval" class="md-nav__link">
    14.1.47 to_str(val)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14148-tool_contactdirection" class="md-nav__link">
    14.1.48 tool_contact(direction)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14149-tool_contact_examples" class="md-nav__link">
    14.1.49 tool_contact_examples()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-module-urmath" class="md-nav__link">
    15. Module urmath
  </a>
  
    <nav class="md-nav" aria-label="15. Module urmath">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#151-functions" class="md-nav__link">
    15.1. Functions
  </a>
  
    <nav class="md-nav" aria-label="15.1. Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1511-acosf" class="md-nav__link">
    15.1.1. acos(f )
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1512-asinf" class="md-nav__link">
    15.1.2. asin(f )
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1513-tanf" class="md-nav__link">
    15.1.3. tan(f )
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1514-atan2x-y" class="md-nav__link">
    15.1.4. atan2(x, y)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1515-binary_list_to_integerl" class="md-nav__link">
    15.1.5. binary_list_to_integer(l)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1516-ceilf" class="md-nav__link">
    15.1.6. ceil(f )
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1517-cosf" class="md-nav__link">
    15.1.7. cos(f )
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1518-d2rd" class="md-nav__link">
    15.1.8. d2r(d)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1519-loorf" class="md-nav__link">
    15.1.9. loor(f )
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15110-get_list_lengthv" class="md-nav__link">
    15.1.10. get_list_length(v)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15111-nteger_to_binary_listx" class="md-nav__link">
    15.1.11. nteger_to_binary_list(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15112-interpolate_posep_from-p_to-alpha" class="md-nav__link">
    15.1.12. interpolate_pose(p_from, p_to, alpha)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15113-nvm" class="md-nav__link">
    15.1.13. nv(m)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15114-engthv" class="md-nav__link">
    15.1.14. ength(v)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15115-ogb-f" class="md-nav__link">
    15.1.15. og(b, f )
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15116-norma" class="md-nav__link">
    15.1.16. norm(a)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15117-normalizev" class="md-nav__link">
    15.1.17. normalize(v)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15118-point_distp_from-p_to" class="md-nav__link">
    15.1.18. point_dist(p_from, p_to)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15119-pose_addp_1-p_2" class="md-nav__link">
    15.1.19. pose_add(p_1, p_2)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15120-pose_invp_from" class="md-nav__link">
    15.1.20. pose_inv(p_from)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15121-pose_subp_to-p_from" class="md-nav__link">
    15.1.21. pose_sub(p_to, p_from)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15122-pose_transp_from-p_from_to" class="md-nav__link">
    15.1.22. pose_trans(p_from, p_from_to)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15123-powbase-exponent" class="md-nav__link">
    15.1.23. pow(base, exponent)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15124-2dr" class="md-nav__link">
    15.1.24. 2d(r)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15125-random" class="md-nav__link">
    15.1.25. random()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15126-otvec2rpyrotation_vector" class="md-nav__link">
    15.1.26. otvec2rpy(rotation_vector)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15127-rpy2rotvecrpy_vector" class="md-nav__link">
    15.1.27. rpy2rotvec(rpy_vector)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15128-sinf" class="md-nav__link">
    15.1.28. sin(f )
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15129-sizev" class="md-nav__link">
    15.1.29. size(v)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15130-sqrtf" class="md-nav__link">
    15.1.30. sqrt(f )
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15131-tanf" class="md-nav__link">
    15.1.31. tan(f)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15132-transposem" class="md-nav__link">
    15.1.32. transpose(m)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15133-wrench_transt_from_to-w_from" class="md-nav__link">
    15.1.33. wrench_trans(T_from_to, w_from)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-module-interfaces" class="md-nav__link">
    16. Module Interfaces
  </a>
  
    <nav class="md-nav" aria-label="16. Module Interfaces">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#161-functions" class="md-nav__link">
    16.1 Functions
  </a>
  
    <nav class="md-nav" aria-label="16.1 Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1611-enable_external_ft_sensorenable-sensor_mass00-sensor_measuring_offset0000-00-sensor_cog00-00-00" class="md-nav__link">
    16.1.1 enable_external_ft_sensor(enable, sensor_mass=0.0, sensor_measuring_offset=[0.0,0.0, 0.0], sensor_cog=[0.0, 0.0, 0.0])
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1612-ft_rtde_input_enableenable-sensor_mass00-sensor_measuring_offset0000-00-sensor_cog00-00-00" class="md-nav__link">
    16.1.2 ft_rtde_input_enable(enable, sensor_mass=0.0, sensor_measuring_offset=[0.0,0.0, 0.0], sensor_cog=[0.0, 0.0, 0.0])
  </a>
  
    <nav class="md-nav" aria-label="16.1.2 ft_rtde_input_enable(enable, sensor_mass=0.0, sensor_measuring_offset=[0.0,0.0, 0.0], sensor_cog=[0.0, 0.0, 0.0])">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1613-get_analog_inn" class="md-nav__link">
    16.1.3 get_analog_in(n)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1614-get_analog_outn" class="md-nav__link">
    16.1.4 get_analog_out(n)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1615-get_configurable_digital_inn" class="md-nav__link">
    16.1.5 get_configurable_digital_in(n)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1616-get_configurable_digital_outn" class="md-nav__link">
    16.1.6 get_configurable_digital_out(n)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1617-get_digital_inn" class="md-nav__link">
    16.1.7 get_digital_in(n)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1618-get_digital_outn" class="md-nav__link">
    16.1.8 get_digital_out(n)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1619-get_flagn" class="md-nav__link">
    16.1.9 get_flag(n)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16110-get_standard_analog_inn" class="md-nav__link">
    16.1.10 get_standard_analog_in(n)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16111-get_standard_analog_outn" class="md-nav__link">
    16.1.11 get_standard_analog_out(n)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16112-get_standard_digital_inn" class="md-nav__link">
    16.1.12 get_standard_digital_in(n)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16113-get_standard_digital_outn" class="md-nav__link">
    16.1.13 get_standard_digital_out(n)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16114-get_tool_analog_inn" class="md-nav__link">
    16.1.14 get_tool_analog_in(n)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16115-get_tool_digital_inn" class="md-nav__link">
    16.1.15 get_tool_digital_in(n)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16116-get_tool_digital_outn" class="md-nav__link">
    16.1.16 get_tool_digital_out(n)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16117-modbus_add_signalip-slave_number-signal_address-signal_type-signal_name-sequential_modefalse" class="md-nav__link">
    16.1.17 modbus_add_signal(IP, slave_number, signal_address, signal_type, signal_name, sequential_mode=False)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16118-modbus_delete_signalsignal_name" class="md-nav__link">
    16.1.18 modbus_delete_signal(signal_name)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16119-modbus_get_signal_statussignal_name-is_secondary_program" class="md-nav__link">
    16.1.19 modbus_get_signal_status(signal_name, is_secondary_program)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16120-modbus_send_custom_commandip-slave_number-function_code-data" class="md-nav__link">
    16.1.20 modbus_send_custom_command(IP, slave_number, function_code, data)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16121-modbus_set_digital_input_actionsignal_name-action" class="md-nav__link">
    16.1.21 modbus_set_digital_input_action(signal_name, action)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16122-modbus_set_output_registersignal_name-register_value-is_secondary_program" class="md-nav__link">
    16.1.22 modbus_set_output_register(signal_name, register_value, is_secondary_program)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16123-modbus_set_output_signalsignal_name-digital_value-is_secondary_program" class="md-nav__link">
    16.1.23 modbus_set_output_signal(signal_name, digital_value, is_secondary_program)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16124-modbus_set_signal_update_frequencysignal_name-update_frequency" class="md-nav__link">
    16.1.24 modbus_set_signal_update_frequency(signal_name, update_frequency)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16125-read_input_boolean_registeraddress" class="md-nav__link">
    16.1.25 read_input_boolean_register(address)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16126-read_input_float_registeraddress" class="md-nav__link">
    16.1.26 read_input_float_register(address)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16127-read_input_integer_registeraddress" class="md-nav__link">
    16.1.27 read_input_integer_register(address)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16128-read_output_boolean_registeraddress" class="md-nav__link">
    16.1.28 read_output_boolean_register(address)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16129-read_output_float_registeraddress" class="md-nav__link">
    16.1.29 read_output_float_register(address)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16130-read_output_integer_registeraddress" class="md-nav__link">
    16.1.30 read_output_integer_register(address)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16131-read_port_bitaddress" class="md-nav__link">
    16.1.31 read_port_bit(address)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16132-read_port_registeraddress" class="md-nav__link">
    16.1.32 read_port_register(address)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16133-rpc_factorytype-url" class="md-nav__link">
    16.1.33 rpc_factory(type, url)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16134-rtde_set_watchdogvariable_name-min_frequency-actionpause" class="md-nav__link">
    16.1.34 rtde_set_watchdog(variable_name, min_frequency, action=’pause’)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16135-set_analog_inputrangeport-range" class="md-nav__link">
    16.1.35 set_analog_inputrange(port, range)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16136-set_analog_outn-f" class="md-nav__link">
    16.1.36 set_analog_out(n, f )
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16137-set_configurable_digital_outn-b" class="md-nav__link">
    16.1.37 set_configurable_digital_out(n, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16138-set_digital_outn-b" class="md-nav__link">
    16.1.38 set_digital_out(n, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16139-set_flagn-b" class="md-nav__link">
    16.1.39 set_flag(n, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16140-set_standard_analog_outn-f" class="md-nav__link">
    16.1.40 set_standard_analog_out(n, f)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16141-set_standard_digital_outn-b" class="md-nav__link">
    16.1.41 set_standard_digital_out(n, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16142-set_tool_digital_outn-b" class="md-nav__link">
    16.1.42 set_tool_digital_out(n, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16143-set_tool_communicationenabled-baud_rate-parity-stop_bits" class="md-nav__link">
    16.1.43 set_tool_communication(enabled, baud_rate, parity, stop_bits, )
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16144-set_tool_voltagevoltage" class="md-nav__link">
    16.1.44 set_tool_voltage(voltage)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16145-socket_closesocket_namesocket_0" class="md-nav__link">
    16.1.45 socket_close(socket_name=’socket_0’)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16146-socket_get_varname-socket_namesocket_0" class="md-nav__link">
    16.1.46 socket_get_var(name, socket_name=’socket_0’)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16147-socket_openaddress-port-socket_namesocket_0" class="md-nav__link">
    16.1.47 socket_open(address, port, socket_name=’socket_0’)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16148-socket_read_ascii_floatnumber-socket_namesocket_0-timeout2" class="md-nav__link">
    16.1.48 socket_read_ascii_float(number, socket_name=’socket_0’, timeout=2)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16149-socket_read_binary_integernumber-socket_namesocket_0-timeout2" class="md-nav__link">
    16.1.49 socket_read_binary_integer(number, socket_name=’socket_0’, timeout=2)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16150-socket_read_byte_listnumber-socket_namesocket_0-timeout2" class="md-nav__link">
    16.1.50 socket_read_byte_list(number, socket_name=’socket_0’, timeout=2)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#161socket_read_linesocket_namesocket_0-timeout2" class="md-nav__link">
    16.1.socket_read_line(socket_name=’socket_0’, timeout=2)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16151-socket_read_stringsocket_namesocket_0-prefix-suffix-interpret_escapefalse-timeout2" class="md-nav__link">
    16.1.51 socket_read_string(socket_name=’socket_0’, prefix =’’, suffix =’’, interpret_escape=’False’, timeout=2)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16152-socket_send_bytevalue-socket_namesocket_0" class="md-nav__link">
    16.1.52 socket_send_byte(value, socket_name=’socket_0’)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16153-socket_send_intvalue-socket_namesocket_0" class="md-nav__link">
    16.1.53 socket_send_int(value, socket_name=’socket_0’)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16154-socket_send_linestr-socket_namesocket_0" class="md-nav__link">
    16.1.54 socket_send_line(str, socket_name=’socket_0’)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16155-socket_send_stringstr-socket_namesocket_0" class="md-nav__link">
    16.1.55 socket_send_string(str, socket_name=’socket_0’)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16156-socket_set_varname-value-socket_namesocket_0" class="md-nav__link">
    16.1.56 socket_set_var(name, value, socket_name=’socket_0’)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16157-write_output_boolean_registeraddress-value" class="md-nav__link">
    16.1.57 write_output_boolean_register(address, value)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16158-write_output_float_registeraddress-value" class="md-nav__link">
    16.1.58 write_output_float_register(address, value)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16159-write_output_integer_registeraddress-value" class="md-nav__link">
    16.1.59 write_output_integer_register(address, value)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16160-write_port_bitaddress-value" class="md-nav__link">
    16.1.60 write_port_bit(address, value)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16161-write_port_registeraddress-value" class="md-nav__link">
    16.1.61 write_port_register(address, value)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16162-zero_ftsensor" class="md-nav__link">
    16.1.62 zero_ftsensor()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17-module-io-configuration" class="md-nav__link">
    17. Module IO Configuration
  </a>
  
    <nav class="md-nav" aria-label="17. Module IO Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#171-functions" class="md-nav__link">
    17.1 Functions
  </a>
  
    <nav class="md-nav" aria-label="17.1 Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1711-modbus_set_runstate_dependent_choicesignal_name-runstate_choice" class="md-nav__link">
    17.1.1 modbus_set_runstate_dependent_choice(signal_name, runstate_choice)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1712-set_analog_outputdomainport-domain" class="md-nav__link">
    17.1.2 set_analog_outputdomain(port, domain)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1713-set_configurable_digital_input_actionport-action" class="md-nav__link">
    17.1.3 set_configurable_digital_input_action(port, action)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1714-set_gp_boolean_input_actionport-action" class="md-nav__link">
    17.1.4 set_gp_boolean_input_action(port, action)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1715-set_input_actions_to_default" class="md-nav__link">
    17.1.5 set_input_actions_to_default()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1716-set_runstate_configurable_digital_output_to_valueoutputid-state" class="md-nav__link">
    17.1.6 set_runstate_configurable_digital_output_to_value(outputId, state)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1717-set_runstate_gp_boolean_output_to_valueoutputid-state" class="md-nav__link">
    17.1.7 set_runstate_gp_boolean_output_to_value(outputId, state)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1718-set_runstate_standard_analog_output_to_valueoutputid-state" class="md-nav__link">
    17.1.8 set_runstate_standard_analog_output_to_value(outputId, state)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1719-set_runstate_standard_digital_output_to_valueoutputid-state" class="md-nav__link">
    17.1.9 set_runstate_standard_digital_output_to_value(outputId, state)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17110-set_runstate_tool_digital_output_to_valueoutputid-state" class="md-nav__link">
    17.1.10 set_runstate_tool_digital_output_to_value(outputId, state)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17111-set_standard_analog_input_domainport-domain" class="md-nav__link">
    17.1.11 set_standard_analog_input_domain(port, domain)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17112-set_standard_digital_input_actionport-action" class="md-nav__link">
    17.1.12 set_standard_digital_input_action(port, action)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17113-set_tool_analog_input_domainport-domain" class="md-nav__link">
    17.1.13 set_tool_analog_input_domain(port, domain)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17114-set_tool_digital_input_actionport-action" class="md-nav__link">
    17.1.14 set_tool_digital_input_action(port, action)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../applications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Applications
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../blog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blog
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h2 id="functions">Functions</h2>
<p>A function is declared as follows:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>    <span class="k">return</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="n">end</span>
</code></pre></div></td></tr></table></div>
<details class="warning" open="open">
<summary>indentation is important</summary>
<p>The robots scripting language requires indentation of 4 spaces for it compiler 
to correcltly understand that the command is withing the scope.
Also, it is a must to enclose the functions with the <code>end</code> keyword.</p>
</details>
<p>The function can then be called like this:
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="n">result</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># returns 5</span>
</code></pre></div></td></tr></table></div>
It is also possible to give function arguments default values:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a>    <span class="k">return</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="n">end</span>
</code></pre></div></td></tr></table></div>
<p>If default values are given in the declaration, arguments can be either input or skipped as below:
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="n">result</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># returns 0</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="n">result</span> <span class="o">=</span> <span class="n">add</span><span class="p">()</span> <span class="c1"># returns 0</span>
</code></pre></div></td></tr></table></div>
A function, <code>add</code>, is defined to take in two arguments, "a" and "b", and returns the sum of them. 
It can be invoked by passing in specific values as arguments, such as <code>result = add(1, 4)</code>. The
function's arguments can also be given default values, allowing them to be omitted when the
function is called, as in <code>result = add()</code>. </p>
<details class="warning" open="open">
<summary>Warning</summary>
<p>It is important to ensure that the arguments are
passed in the correct order as defined in the function's declaration, or the function may not work as
intended.</p>
</details>
<p>For example, here is a function that takes in a list of numbers and an optional "factor" argument,
which defaults to 2:</p>
<p><div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="k">def</span> <span class="nf">multiply_list</span><span class="p">(</span><span class="n">numbers</span><span class="p">,</span> <span class="n">factor</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a>    <span class="n">local</span> <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a>    <span class="n">local</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a>    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">length</span><span class="p">(</span><span class="n">numbers</span><span class="p">):</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a>      <span class="n">multiplication</span> <span class="o">=</span> <span class="n">numbers</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">factor</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a>      <span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">multiplication</span><span class="p">)</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a>      <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a>    <span class="n">end</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a>    <span class="k">return</span> <span class="n">result</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a>  <span class="n">end</span>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a>  <span class="n">local</span> <span class="n">result</span> <span class="o">=</span> <span class="n">multiply_list</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
and it will take the default value of factor = 2.</p>
<p>It is important to note that in URScript, variables declared within a function are not visible outside
of that function. This is known as variable scope.
URScript also has the ability to pass the variables by reference or by value. By default, URScript
passes variables by reference and it means if you change the variables inside the function, it will be
changed outside the function as well. However, if you would like to keep the value of the original
variable, you have to use the keyword "global" before the variable. The "global" keyword in
URScript is used to specify that a variable is a global variable, rather than a local variable within a
function. This allows you to access and modify the value of a global variable within a function.
Here's an example of how to use the "global" keyword:
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span>
<span class="normal"><a href="#__codelineno-5-4">4</a></span>
<span class="normal"><a href="#__codelineno-5-5">5</a></span>
<span class="normal"><a href="#__codelineno-5-6">6</a></span>
<span class="normal"><a href="#__codelineno-5-7">7</a></span>
<span class="normal"><a href="#__codelineno-5-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="k">def</span> <span class="nf">modify_global</span><span class="p">():</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a>    <span class="k">global</span> <span class="n">x</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a>    <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a>    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="c1"># prints 5</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a>    <span class="n">modify_global</span><span class="p">()</span> <span class="c1">#Call the function</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a>    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="c1"># prints 6</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="n">end</span>
</code></pre></div></td></tr></table></div>
In this example, the variable x is defined as a global variable before the function modify_global() is
defined. Within the function, the "global x" statement is used to indicate that the variable x being
modified inside the function is the global variable, rather than a new local variable with the same
name. When the function is called, it increments the value of the global variable x by 1, and this
change is reflected when we print the value of x after the function call.
It's worth noting that in general, it is considered a best practice to avoid using global variables as
much as possible, as it can make your code harder to understand and reason about. Instead, it's often
better to pass the variables you need as arguments to functions or return them as a result of a
function and then reassign the value.
Also, the global keyword is not required if the variable is already defined in the global scope. You
can modify the value of the variable without any problem.</p>
<h2 id="13-module-motion">13. Module motion</h2>
<h3 id="131-functions">13.1 Functions</h3>
<h4 id="1317-end_force_mode">13.1.7 end_force_mode()</h4>
<p>The end_force_mode() function in URScript is used to stop the robot from executing a force-
controlled move. It stops the robot from moving and holds it in its current position, in force mode.
This function is typically used when the robot is in force mode, which is a control mode that allows
the robot to apply a specific force to an object while moving.
When the robot is in force mode, it can apply a force to an object while moving, which is useful in
applications such as force-controlled assembly, deburring, and polishing. The robot's control system
uses the information from the force/torque sensors to control the force applied to the object, in this
mode.
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span>
<span class="normal"><a href="#__codelineno-6-4">4</a></span>
<span class="normal"><a href="#__codelineno-6-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="c1"># Start force mode</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="n">force_mode_start</span><span class="p">()</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="c1"># movements and actions which need to be performed in force mode</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="c1"># Stop force mode</span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="hll"><span class="n">end_force_mode</span><span class="p">()</span>
</span></code></pre></div></td></tr></table></div></p>
<details class="note" open="open">
<summary>Note</summary>
<p>In this example, the program starts force mode using the force_mode_start() function, then the
robot move in force mode using the movel function and finally the force mode is ended using the
end_force_mode() function. It's important to note that to use force mode, the robot needs to be
equipped with force/torque sensors and these sensors need to be calibrated and properly configured.</p>
</details>
<h4 id="1318-end_freedrive_mode">13.1.8 end_freedrive_mode()</h4>
<p>The end_freedrive_mode() function in URScript is used to exit freedrive mode in a UR program.
Freedrive mode is a control mode where the robot's control system allows the user to manually
move the robot's joints while the robot's safety features are still active.</p>
<h4 id="1319-end_screw_driving">13.1.9 end_screw_driving()</h4>
<p>The end_screw_driving() function in URScript is used to exit screw driving mode in a UR program.
Screw driving mode is a specialized control mode that is used to perform screw driving tasks such
as tightening or loosening screws. It is a closed loop control mode that uses the information
provided by the robot's encoders to control the torque and position of the robot's joints.
Here's an example of how to use the end_screw_driving() function in a UR program:
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span>
<span class="normal"><a href="#__codelineno-7-3">3</a></span>
<span class="normal"><a href="#__codelineno-7-4">4</a></span>
<span class="normal"><a href="#__codelineno-7-5">5</a></span>
<span class="normal"><a href="#__codelineno-7-6">6</a></span>
<span class="normal"><a href="#__codelineno-7-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a>    <span class="c1"># Enter screw driving mode</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a>    <span class="n">screw_driving_start</span><span class="p">()</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a>    <span class="c1"># Perform screw driving task</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="hll">    <span class="c1"># Exit screw driving mode</span>
</span><a id="__codelineno-7-6" name="__codelineno-7-6"></a>    <span class="n">end_screw_driving</span><span class="p">()</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="n">end</span>
</code></pre></div></td></tr></table></div></p>
<h4 id="13111-force_modetask_frame-selection_vector-wrench-type-limits">13.1.11 force_mode(task_frame, selection_vector, wrench, type, limits)</h4>
<ul>
<li>
<p>The function is used to control the force/torque of the robot's end-effector.
    The function takes in five parameters:</p>
<ul>
<li>task_frame: The name of the task frame that the force/torque should be applied to.</li>
<li>selection_vector: A 3-element vector that specifies which direction the force/torque should
be applied in.</li>
<li>wrench: A 6-element vector that specifies the force and torque values to be applied.</li>
<li>type: A string that specifies the type of force mode. This can be "force" or "torque".</li>
<li>limits: A 6-element vector that specifies the limits for the force/torque values.</li>
</ul>
</li>
</ul>
<p>The <code>force_mode()</code> function is used to control the robot in "force control mode", where the robot's
end-effector is controlled by applying a specific force/torque, rather than by specifying a specific
position or velocity. This is useful in applications where the robot needs to interact with an object in
a precise and controlled manner, such as in assembly or packaging tasks.
<code>force_mode(task_frame, selection_vector, wrench, type, limits)</code> is a function in UR Script, the
programming language used to control Universal Robots (UR) robotic arms. The function is used to
control the robot in force control mode, where the robot's end effector applies a specific force or
torque to the work piece.
Here is an example of how to use the function:
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-8-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-8-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-8-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-8-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-8-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-8-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-8-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-8-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-8-10">10</a></span>
<span class="normal"><a href="#__codelineno-8-11">11</a></span>
<span class="normal"><a href="#__codelineno-8-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="c1"># Define the task frame</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="n">task_frame</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="c1"># Define the selection vector</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="n">selection_vector</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="c1"># Define the wrench (force/torque)</span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="n">wrench</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="c1"># Define the type of force control (for example, &#39;force&#39;)</span>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;force&#39;</span>
<a id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="c1"># Define the limits for the force/torque (for example, [-50, 50])</span>
<a id="__codelineno-8-10" name="__codelineno-8-10"></a><span class="n">limits</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">]</span>
<a id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="c1"># Apply force control</span>
<a id="__codelineno-8-12" name="__codelineno-8-12"></a><span class="hll"><span class="n">force_mode</span><span class="p">(</span><span class="n">task_frame</span><span class="p">,</span> <span class="n">selection_vector</span><span class="p">,</span> <span class="n">wrench</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">limits</span><span class="p">)</span>
</span></code></pre></div></td></tr></table></div></p>
<details class="note" open="open">
<summary>Note</summary>
<p>The above example sets the task frame to be 0.1 meters above the current position, and applies a
force of -10 N in the Z-direction (downwards) to the workpiece. The selection vector defines which
elements of the wrench vector are used. The limits parameter defines the minimum and maximum
force/torque that can be applied. It's important to note that the force_mode function is a blocking
function which means the program execution will be blocked until the force/torque limits are
reached. It's recommended to use force_mode_tool(...) instead which is a non-blocking function.</p>
</details>
<h4 id="13112-force_mode_example">13.1.12 force_mode_example()</h4>
<p><code>force_mode(p[0.1,0,0,0,0.785], [1,0,0,0,0,0], [20,0,40,0,0,0], 2, [.2,.1,.1,.785,.785,1.57])</code>
Example Parameters:</p>
<ul>
<li>Task frame = p[0.1,0,0,0,0.785] ! This frame is offset from the base frame 100 mm in the x
direction and rotated 45 degrees in the RZ direction</li>
<li>Selection Vector = [1,0,0,0,0,0] ! The robot is compliant in the x direction of the Task frame
above.</li>
<li>Wrench = [20,0,40,0,0,0] ! The robot apples 20N in the x direction. It also accounts for a 40N
external force in the z direction.</li>
<li>Type = 2 ! The force frame is not transformed.</li>
<li>Limits = [.1,.1,.1,.785,.785,1.57] ! max x velocity is 100 mm/s, max y deviation is 100 mm,
max z deviation is 100 mm, max rx deviation is 45 deg, max ry deviation is 45 deg, max rz
deviation is 90 deg</li>
</ul>
<h4 id="13113-force_mode_set_dampingdamping">13.1.13 force_mode_set_damping(damping)</h4>
<p>In UR Script, the "force_mode_set_damping" command sets the damping value for the force mode.
Damping is a value between 0 and 1 that determines how quickly the robot's end effector will stop
moving once it reaches its target. A damping value of 0 means the end effector will continue
moving indefinitely, while a value of 1 means it will stop immediately. The "damping" parameter in
the command is the value that you want to set the damping to. You can use this command in
conjunction with other force mode commands such as "force_mode_start" and "force_mode_stop"
to control the robot's end effector in a more precise and intuitive way.
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span>
<span class="normal"><a href="#__codelineno-9-5">5</a></span>
<span class="normal"><a href="#__codelineno-9-6">6</a></span>
<span class="normal"><a href="#__codelineno-9-7">7</a></span>
<span class="normal"><a href="#__codelineno-9-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="c1"># Start force mode</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="n">force_mode_start</span><span class="p">()</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="c1"># Set the damping value to 0.7</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="hll"><span class="n">force_mode_set_damping</span><span class="p">(</span><span class="mf">0.7</span><span class="p">)</span>
</span><a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="c1"># Apply force to the end effector in the x-direction</span>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="n">set_tool_force</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="c1"># Stop force mode</span>
<a id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="n">force_mode_stop</span><span class="p">()</span>
</code></pre></div></td></tr></table></div></p>
<h4 id="13114-force_mode_set_gain_scalingscaling">13.1.14 force_mode_set_gain_scaling(scaling)</h4>
<p>scaling parameter between 0 and 2, default is 1.
A value larger than 1 can make force mode unstable, e.g. in case of collisions or pushing against
hard surfaces. The value is stored until this function is called again. Add this to the beginning of
your program to ensure it is called before force mode is entered (otherwise default value will be
used).
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span>
<span class="normal"><a href="#__codelineno-10-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="n">force_mode_start</span><span class="p">()</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="hll"><span class="n">force_mode_set_gain_scaling</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</span><a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="n">movej</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">pi</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">a</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="mf">1.05</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ro</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="n">force_mode_stop</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
In this example, the script first starts the force mode with the "force_mode_start" command. Then,
it sets the gain scaling to 0.5 with the "force_mode_set_gain_scaling" command. The gain scaling is
a value between 0 and 1 that determines how sensitive the robot's end effector is to external forces.
A scaling value of 0 means the end effector is not sensitive at all, while a value of 1 means it is fully
sensitive. Then, it moves the robot's arm with the "movej" command. The "movej" command is
used to move the robot's end effector to a specific set of joint positions. Finally, the script stops the
force mode with the "force_mode_stop" command.</p>
<h4 id="13115-freedrive_mode-freeaxes1-1-1-1-1-1-featurep0-0-0-0-0-0">13.1.15 freedrive_mode (freeAxes=[1, 1, 1, 1, 1, 1], feature=p[0, 0, 0, 0, 0, 0])</h4>
<p>Set robot in freedrive mode. In this mode the robot can be moved around by hand in the same
way as by pressing the "freedrive" button.
The robot will not be able to follow a trajectory (eg. a movej) in this mode.
The default parameters enables the robot to move freely in all directions. It is possible to enable
Constrained Freedrive by providing user specific parameters.</p>
<p><strong>Parameters</strong></p>
<p><code>freeAxes:</code> A 6 dimensional vector that contains 0’s and 1’s, these indicates in which axes
movement is allowed. The first three values represents the cartesian directions along x, y, z, and
the last three defines the rotation axis, rx, ry, rz. All relative to the selected feature.</p>
<p><code>feature:</code> A pose vector that defines a freedrive frame relative to the base frame. For base and
tool reference frames predefined constants "base", and "tool" can be used in place of pose vectors.</p>
<p><strong>Example commands:</strong></p>
<ul>
<li>freedrive_mode()
Robot can move freely in all directions.</li>
<li>freedrive_mode(freeAxes=[1,0,0,0,0,0], feature=p
[0.1,0,0,0,0.785])</li>
<li>Example Parameters:</li>
<li>feature = p[0.1,0,0,0,0.785] -&gt; This feature is offset from the base
frame with 100 mm in the x direction and rotated 45 degrees in the rz
direction.</li>
<li>freedrive_mode(freeAxes=[0,1,0,0,0,0], feature="tool")</li>
<li>Example Parameters:</li>
<li>freeAxes = [0,1,0,0,0,0] -&gt; The robot is compliant in the y direction
relative to the "tool" feature.</li>
<li>feature = "tool" -&gt; The "tool" feature is located in the active TCP.</li>
</ul>
<p>Note: Immediately before entering freedrive mode, avoid:
- movements in the non-compliant axes
- high acceleration in freedrive mode
- high deceleration in freedrive mode
High acceleration and deceleration can both decrease the control accuracy and cause protective
stops.</p>
<h4 id="13117-get_freedrive_status">13.1.17 get_freedrive_status()</h4>
<p>Returns status of freedrive mode for current robot pose.
Constrained freedrive usability is reduced near singularities. Value returned by this function
corresponds to distance to the nearest singularity.
It can be used to advice operator to follow different path or switch to unconstrained freedrive.
Return Value</p>
<ul>
<li>0 - Normal operation.</li>
<li>1 - Near singularity.</li>
<li>2 - Too close to singularity. High movement resistance in freedrive.
The above function can basically be achieved by below:
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span>
<span class="normal"><a href="#__codelineno-11-3">3</a></span>
<span class="normal"><a href="#__codelineno-11-4">4</a></span>
<span class="normal"><a href="#__codelineno-11-5">5</a></span>
<span class="normal"><a href="#__codelineno-11-6">6</a></span>
<span class="normal"><a href="#__codelineno-11-7">7</a></span>
<span class="normal"><a href="#__codelineno-11-8">8</a></span>
<span class="normal"><a href="#__codelineno-11-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="c1"># Enable free drive mode</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="n">socket_send_string</span><span class="p">(</span><span class="s2">&quot;set_freedrive_mode(True)&quot;</span><span class="p">)</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="c1"># Wait for the robot to enter free drive mode</span>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="c1"># Get the current status of free drive modei</span>
<a id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="hll"><span class="n">status</span> <span class="o">=</span> <span class="n">get_freedrive_status</span><span class="p">()</span>
</span><a id="__codelineno-11-8" name="__codelineno-11-8"></a><span class="n">popup</span><span class="p">(</span><span class="s2">&quot;Free drive mode status: &quot;</span><span class="p">,</span> <span class="n">status</span><span class="p">)</span>
<a id="__codelineno-11-9" name="__codelineno-11-9"></a><span class="n">end</span>
</code></pre></div></td></tr></table></div></li>
</ul>
<h4 id="13118-get_target_tcp_pose_along_path">13.1.18 get_target_tcp_pose_along_path()</h4>
<p>Query the target TCP pose as given by the trajectory being followed.
This script function is useful in conjunction with conveyor tracking to know what the target pose of
the TCP would be if no offset was applied.</p>
<p><strong>Return Value</strong></p>
<p>Target TCP pose
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span>
<span class="normal"><a href="#__codelineno-12-2">2</a></span>
<span class="normal"><a href="#__codelineno-12-3">3</a></span>
<span class="normal"><a href="#__codelineno-12-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="n">movej</span><span class="p">(</span><span class="n">waypoint</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="c1"># Get the target TCP pose along the path</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="n">target_tcp_pose</span> <span class="o">=</span> <span class="n">get_target_tcp_pose_along_path</span><span class="p">()</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="nb">print</span><span class="p">(</span><span class="n">target_tcp_pose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<details class="note" open="open">
<summary>Note</summary>
<p>Note that the get_target_tcp_pose_along_path() command should be called after a movement
command like movej() to get the correct target pose along the path.
The "get_target_tcp_pose_along_path()" function in UR Script is used to retrieve the target TCP
(tool center point) pose of the robot along a pre-defined path. The benefit of using this function is
that it allows you to easily and accurately determine the robot's target position and orientation at any
point along a path, which can be useful for a variety of applications. For example, you could use
this function to calculate the exact position and orientation of the robot's end effector at a specific
point along a pick-and-place path, or to track the robot's progress along a path for monitoring and
control purposes.</p>
</details>
<h4 id="13120-movecpose_via-pose_to-a12-v025-r-0-mode0">13.1.20 movec(pose_via, pose_to, a=1.2, v=0.25, r =0, mode=0)</h4>
<p>Move Circular: Move to position (circular in tool-space)
TCP moves on the circular arc segment from current pose, through pose_via to pose_to.
Accelerates to and moves with constant tool speed v. Use the mode parameter to define the
orientation interpolation.</p>
<p><strong>Parameters</strong></p>
<p><strong><em>pose_via:</em></strong> path point (note: only position is used). Pose_via can also be specified as joint
positions, then forward kinematics is used to calculate the corresponding pose.
pose_to: target pose (note: only position is used in Fixed orientation mode). Pose_to can also
be specified as joint positions, then forward kinematics is used to calculate the corresponding
pose.</p>
<p><strong><em>a:</em></strong> tool acceleration [m/s^2]
<strong><em>v:</em></strong> tool speed [m/s]
<strong><em>r:</em></strong> blend radius (of target pose) [m]</p>
<p><strong>mode:</strong></p>
<p><strong><em>0:</em></strong> Unconstrained mode. Interpolate orientation from current pose to target pose (pose_to)</p>
<p><strong><em>1:</em></strong> Fixed mode. Keep orientation constant relative to the tangent of the circular arc (starting from
current pose)</p>
<p><strong>Example command:</strong></p>
<p><code>movec(p[x,y,z,0,0,0], pose_to, a=1.2, v=0.25, r=0.05, mode=1)</code></p>
<ul>
<li>Example Parameters:</li>
<li>Note: first position on circle is previous waypoint.</li>
<li>pose_via = p[x,y,z,0,0,0] → second position on circle.</li>
<li>
<details class="note" open="open">
<summary>Note</summary>
 Rotations are not used so they can be left as zeros.</details>
</li>
<li>
<details class="note" open="open">
<summary>Note</summary>
 This position can also be represented as joint angles [j0,j1,j2,j3,j4,j5] then forward kinematics is used to calculate the corresponding pose</details>
</li>
<li>pose_to → third (and final) position on circle</li>
<li>a = 1.2 → acceleration is 1.2 m/s/s</li>
<li>v = 0.25 → velocity is 250 mm/s</li>
<li>r = 0 → blend radius (at pose_to) is 50 mm.</li>
<li>mode = 1 → use fixed orientation relative to tangent of circular arc</li>
</ul>
<h4 id="13121-movejq-a14-v105-t0-r-0">13.1.21 movej(q, a=1.4, v=1.05, t=0, r =0)</h4>
<p>Move to position (linear in joint-space)
When using this command, the robot must be at a standstill or come from a movej or movel with a
blend. The speed and acceleration parameters control the trapezoid speed profile of the move.
Alternatively, the t parameter can be used to set the time for this move. Time setting has priority
over speed and acceleration settings.</p>
<p><strong>Parameters</strong></p>
<ul>
<li>q: joint positions (q can also be specified as a pose, then inverse kinematics is used to calculate
the corresponding joint positions)</li>
<li>a: joint acceleration of leading axis [rad/s^2]</li>
<li>v: joint speed of leading axis [rad/s]</li>
<li>t: time [S]</li>
<li>r: blend radius [m]</li>
</ul>
<p>If a blend radius is set, the robot arm trajectory will be modified to avoid the robot stopping at the
point.</p>
<p>However, if the blend region of this move overlaps with the blend radius of previous or following
waypoints, this move will be skipped, and an ’Overlapping Blends’ warning message will be
generated.</p>
<p><strong>Example command:</strong></p>
<p><code>movej([0,1.57,-1.57,3.14,-1.57,1.57], a=1.4, v=1.05, t=0, r=0)</code></p>
<p><strong>Example Parameters:</strong></p>
<ul>
<li>
<p>q = [0,1.57,-1.57,3.14,-1.57,1.57] base is at 0 deg rotation, shoulder is at 90 deg
rotation, elbow is at -90 deg rotation, wrist 1 is at 180 deg rotation, wrist 2 is at -90
deg rotation, wrist 3 is at 90 deg rotation. Note: joint positions (q can also be
specified as a pose, then inverse kinematics is used to calculate the corresponding
joint positions)</p>
</li>
<li>
<p>a = 1.4 → acceleration is 1.4 rad/s/s</p>
</li>
<li>v = 1.05 → velocity is 1.05 rad/s</li>
<li>t = 0 the time (seconds) to make move is not specified. If it were specified the
command would ignore the a and v values.</li>
<li>r = 0 → the blend radius is zero meters.</li>
</ul>
<h4 id="13122-movelpose-a12-v025-t0-r0">13.1.22 movel(pose, a=1.2, v=0.25, t=0, r=0)</h4>
<p>Move to position (linear in tool-space)</p>
<h4 id="13123-moveppose-a12-v025-r0">13.1.23 movep(pose, a=1.2, v=0.25, r=0)</h4>
<p>Move Process
Blend circular (in tool-space) and move linear (in tool-space) to position. Accelerates to and
moves with constant tool speed v.</p>
<h4 id="13124-path_offset_disablea20">13.1.24 path_offset_disable(a=20)</h4>
<p>Disable the path offsetting and decelerate all joints to zero speed.
Uses the stopj functionality to bring all joints to a rest. Therefore, all joints will decelerate at
different rates but reach stand-still at the same time.
Use the script function path_offset_enable to enable path offsetting</p>
<p><strong>Parameters</strong></p>
<ul>
<li>a: joint acceleration [rad/s^2] (optional)</li>
</ul>
<h4 id="13125-path_offset_enable">13.1.25 path_offset_enable()</h4>
<p>The <code>path_offset_enable</code> command in UR Script, allows the robot to follow a path with an offset.
This means that the robot will follow the path, but it will maintain a certain distance from the path.
The benefit of using this command is that it allows the robot to follow a path while avoiding
obstacles or other objects that may be in the way. </p>
<p>For example, if a robot is working in a crowded
factory, it can use path offset to avoid collision with other machines or equipment. Additionally, it
can also be useful for tasks such as painting or welding where the robot needs to maintain a certain
distance from the surface it is working on.
Here's an example of how to use the path_offset_enable command in a UR program:
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span>
<span class="normal"><a href="#__codelineno-13-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a>  <span class="n">path_offset_enable</span><span class="p">()</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a>  <span class="n">movej</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">a</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a>  <span class="n">path_offset_disable</span><span class="p">()</span>
</code></pre></div></td></tr></table></div></p>
<p>In this example, the <code>path_offset_enable</code> command is called before the robot moves to the target
position (specified in the <code>movej</code> command). </p>
<p>This tells the robot to follow the path while
maintaining an offset. The <code>movej</code> command then moves the robot to the target position with a
specific acceleration and velocity. </p>
<p>Once the robot reaches the target position, the
"path_offset_disable" command is called, which disables the offset mode, and the robot moves with
the path in a normal mode.</p>
<p>Note that the path_offset_enable() by default will offset the path with a distance of 0.05m. You can
change the distance by calling the command <code>path_offset_enable(distance)</code> with the desired distance
as parameter.</p>
<p><strong>Enable path offsetting.</strong></p>
<p>Path offsetting is used to superimpose a Cartesian offset onto the robot motion as it follows a
trajectory. This is useful for instance for imposing a weaving motion onto a welding task, or to
compensate for the effect of moving the base of the robot while following a trajectory.</p>
<p>Path offsets can be applied in various frames of reference and in various ways. Please refer to
the script function path_offset_set for further explanation.
Enabling path offsetting doesn’t cancel the effects of previous calls to the script functions 
<code>path_offset_set_max_offset</code>  and  <code>path_offset_set_alpha_filter</code> Path offset
configuration will persist through cycles of enable and disable.</p>
<details class="warning" open="open">
<summary>Warning</summary>
<p>Using Path offset at the same time as Conveyor Tracking and/or Force can lead to program
conflict. Do not use this function together with Conveyor Tracking and/or Force.</p>
</details>
<h4 id="13126-path_offset_gettype">13.1.26 path_offset_get(type)</h4>
<p>The "path_offset_get" command in UR Script is used to retrieve the current offset value of a
specific type of path. The "type" parameter specifies the type of path for which you want to retrieve
the offset value.
The benefit of using this command is that it allows you to retrieve the current offset value of a
specific type of path, so you can use it in other commands or calculations within your program. For
example, you could use the offset value to modify the robot's end effector's position or orientation
during a movement, or use it to calculate the distance between the robot's current position and a
target position.
Additionally, path_offset_get command can be use to check the current offset of the path in force
mode and adjust the path accordingly. It can also be used to check the current offset of a path in
force mode and adjust the path accordingly. This can help to improve the accuracy of the robot's
movements and reduce the risk of collisions.
Here's an example of how to use the path_offset_get command in a UR program:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-14-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-14-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-14-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-14-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-14-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-14-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-14-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-14-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-14-10">10</a></span>
<span class="normal"><a href="#__codelineno-14-11">11</a></span>
<span class="normal"><a href="#__codelineno-14-12">12</a></span>
<span class="normal"><a href="#__codelineno-14-13">13</a></span>
<span class="normal"><a href="#__codelineno-14-14">14</a></span>
<span class="normal"><a href="#__codelineno-14-15">15</a></span>
<span class="normal"><a href="#__codelineno-14-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="c1"># Get the current offset value of the linear path</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="n">offset</span> <span class="o">=</span> <span class="n">path_offset_get</span><span class="p">(</span><span class="s2">&quot;linear&quot;</span><span class="p">)</span>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="c1"># Use the offset value to adjust the robot&#39;s end effector position</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="n">movej</span><span class="p">(</span><span class="n">get_inverse_kin</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="n">offset</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span> <span class="n">a</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a><span class="hll"><span class="n">In</span> <span class="n">this</span> <span class="n">example</span><span class="p">,</span> <span class="n">the</span> <span class="s2">&quot;path_offset_get&quot;</span> <span class="n">command</span> <span class="ow">is</span> <span class="n">used</span> <span class="n">to</span> <span class="n">retrieve</span> <span class="n">the</span> <span class="n">current</span> <span class="n">offset</span> <span class="n">value</span> <span class="n">of</span> <span class="n">the</span>
</span><a id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="n">linear</span> <span class="n">path</span><span class="o">.</span> <span class="n">The</span> <span class="n">offset</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">then</span> <span class="n">stored</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">variable</span> <span class="s2">&quot;offset&quot;</span><span class="o">.</span> <span class="n">Next</span><span class="p">,</span> <span class="n">the</span> <span class="n">offset</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">used</span> <span class="n">to</span>
<a id="__codelineno-14-7" name="__codelineno-14-7"></a><span class="n">adjust</span> <span class="n">the</span> <span class="n">robot</span><span class="s1">&#39;s end effector position in the movej command, by using it as an offset in the</span>
<a id="__codelineno-14-8" name="__codelineno-14-8"></a><span class="n">get_inverse_kin</span> <span class="n">function</span><span class="p">,</span> <span class="n">which</span> <span class="n">calculate</span> <span class="n">the</span> <span class="n">robot</span><span class="s1">&#39;s joint angles based on the end effector position.</span>
<a id="__codelineno-14-9" name="__codelineno-14-9"></a><span class="n">Another</span> <span class="n">example</span><span class="p">,</span>
<a id="__codelineno-14-10" name="__codelineno-14-10"></a><span class="c1"># Get the current offset value of the force path</span>
<a id="__codelineno-14-11" name="__codelineno-14-11"></a><span class="n">offset</span> <span class="o">=</span> <span class="n">path_offset_get</span><span class="p">(</span><span class="s2">&quot;force&quot;</span><span class="p">)</span>
<a id="__codelineno-14-12" name="__codelineno-14-12"></a><span class="c1"># Use the offset value to check the current position in force mode</span>
<a id="__codelineno-14-13" name="__codelineno-14-13"></a><span class="k">if</span> <span class="n">offset</span> <span class="o">&lt;</span> <span class="mf">0.01</span><span class="p">:</span>
<a id="__codelineno-14-14" name="__codelineno-14-14"></a><span class="n">popup</span><span class="p">(</span><span class="s2">&quot;The robot is at the desired position&quot;</span><span class="p">)</span>
<a id="__codelineno-14-15" name="__codelineno-14-15"></a><span class="k">else</span><span class="p">:</span>
<a id="__codelineno-14-16" name="__codelineno-14-16"></a><span class="n">popup</span><span class="p">(</span><span class="s2">&quot;The robot is not at the desired position, offset is &quot;</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span>
<span class="normal"><a href="#__codelineno-15-3">3</a></span>
<span class="normal"><a href="#__codelineno-15-4">4</a></span>
<span class="normal"><a href="#__codelineno-15-5">5</a></span>
<span class="normal"><a href="#__codelineno-15-6">6</a></span>
<span class="normal"><a href="#__codelineno-15-7">7</a></span>
<span class="normal"><a href="#__codelineno-15-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="c1"># Another example,</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="c1"># Get the current offset value of the force path</span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="n">offset</span> <span class="o">=</span> <span class="n">path_offset_get</span><span class="p">(</span><span class="s2">&quot;force&quot;</span><span class="p">)</span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a><span class="c1"># Use the offset value to check the current position in force mode</span>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a><span class="hll"><span class="k">if</span> <span class="n">offset</span> <span class="o">&lt;</span> <span class="mf">0.01</span><span class="p">:</span>
</span><a id="__codelineno-15-6" name="__codelineno-15-6"></a><span class="n">popup</span><span class="p">(</span><span class="s2">&quot;The robot is at the desired position&quot;</span><span class="p">)</span>
<a id="__codelineno-15-7" name="__codelineno-15-7"></a><span class="k">else</span><span class="p">:</span>
<a id="__codelineno-15-8" name="__codelineno-15-8"></a><span class="n">popup</span><span class="p">(</span><span class="s2">&quot;The robot is not at the desired position, offset is &quot;</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h4 id="13127-path_offset_setoffset-type">13.1.27 path_offset_set(offset, type)</h4>
<p>Specify the Cartesian path offset to be applied.
Use the script function path_offset_enable beforehand to enable offsetting. The calculated offset
is applied during each cycle at 500Hz.
Discontinuous or jerky offsets are likely to cause protective stops. If offsets are not smooth the
function path_offset_set_alpha_filter can be used to engage a simple filter.
The following example uses a harmonic wave (cosine) to offset the position of the TCP along the
Z-axis of the robot base:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span>
<span class="normal"><a href="#__codelineno-16-2">2</a></span>
<span class="normal"><a href="#__codelineno-16-3">3</a></span>
<span class="normal"><a href="#__codelineno-16-4">4</a></span>
<span class="normal"><a href="#__codelineno-16-5">5</a></span>
<span class="normal"><a href="#__codelineno-16-6">6</a></span>
<span class="normal"><a href="#__codelineno-16-7">7</a></span>
<span class="normal"><a href="#__codelineno-16-8">8</a></span>
<span class="normal"><a href="#__codelineno-16-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="n">thread</span> <span class="n">OffsetThread</span><span class="p">():</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a>  <span class="k">while</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a>    <span class="c1"># 2Hz cosine wave with an amplitude of 5mm</span>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a>    <span class="k">global</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.005</span><span class="o">*</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="hll">    <span class="k">global</span> <span class="n">p</span> <span class="o">=</span> <span class="n">p</span> <span class="o">+</span> <span class="mi">4</span><span class="o">*</span><span class="mf">3.14159</span><span class="o">/</span><span class="mi">500</span>
</span><a id="__codelineno-16-6" name="__codelineno-16-6"></a>    <span class="n">path_offset_set</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-16-7" name="__codelineno-16-7"></a>    <span class="n">sync</span><span class="p">()</span>
<a id="__codelineno-16-8" name="__codelineno-16-8"></a>  <span class="n">end</span>
<a id="__codelineno-16-9" name="__codelineno-16-9"></a><span class="n">end</span>
</code></pre></div></td></tr></table></div>
<p><strong>Parameters</strong></p>
<p>offset: Pose specifying the translational and rotational offset.
type: Specifies how to apply the given offset. </p>
<p><strong>Options are:</strong></p>
<p>1: (BASE) Use robot base coordinates when applying.</p>
<p>2: (TCP) Use robot TCP coordinates when applying.</p>
<p>3: (MOTION) Use a coordinate system following the un-offset trajectory when applying.</p>
<p>This coordinate system is defined as follows. X-axis along the tangent of the translational part of the
un-offset trajectory (rotation not relevant here). Y-axis perpendicular to the X-axis above and the
Z-axis of the tool (X cross Z). Z-axis given from the X and Y axes by observing the right-hand
rule. This is useful for instance for superimposing a weaving pattern onto the trajectory when
welding.</p>
<p>4: (WORLD) This can be used to follow a trajectory in world (inertial) space, while the base
coordinate system of the robot is being translated and/or rotated by something external, e.g. a
mobile robot or another robot arm. The offset is thus the pose of the robot base relative to the
world coordinate system, and it is also the world coordinate system which the commanded
trajectory should be understood relative to.
Another way to perform the above program is below:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-17-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-17-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-17-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-17-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-17-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-17-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-17-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-17-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-17-10">10</a></span>
<span class="normal"><a href="#__codelineno-17-11">11</a></span>
<span class="normal"><a href="#__codelineno-17-12">12</a></span>
<span class="normal"><a href="#__codelineno-17-13">13</a></span>
<span class="normal"><a href="#__codelineno-17-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="c1"># Define the amplitude and frequency of the cosine function</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="n">amplitude</span> <span class="o">=</span> <span class="mf">0.1</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="n">frequency</span> <span class="o">=</span> <span class="mf">0.1</span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="c1"># Set the initial time value</span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="hll"><span class="n">time</span> <span class="o">=</span> <span class="mi">0</span>
</span><a id="__codelineno-17-6" name="__codelineno-17-6"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-17-7" name="__codelineno-17-7"></a>  <span class="c1"># Calculate the offset value using the cosine function</span>
<a id="__codelineno-17-8" name="__codelineno-17-8"></a>  <span class="n">offset</span> <span class="o">=</span> <span class="n">amplitude</span> <span class="o">*</span> <span class="n">cos</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">frequency</span> <span class="o">*</span> <span class="n">time</span><span class="p">)</span>
<a id="__codelineno-17-9" name="__codelineno-17-9"></a>  <span class="c1"># Set the offset for the TCP along the Z-axis</span>
<a id="__codelineno-17-10" name="__codelineno-17-10"></a>  <span class="n">path_offset_set</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">)</span>
<a id="__codelineno-17-11" name="__codelineno-17-11"></a>  <span class="c1"># Update the time value</span>
<a id="__codelineno-17-12" name="__codelineno-17-12"></a>  <span class="n">time</span> <span class="o">+=</span> <span class="mf">0.01</span>
<a id="__codelineno-17-13" name="__codelineno-17-13"></a>  <span class="c1"># Sleep for a short period of time</span>
<a id="__codelineno-17-14" name="__codelineno-17-14"></a>  <span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h4 id="13128-path_offset_set_alpha_filteralpha">13.1.28 path_offset_set_alpha_filter(alpha)</h4>
<p>Engage offset filtering using a simple alpha filter (EWMA) and set the filter coefficient.
When applying an offset, it must have a smooth velocity profile in order for the robot to be able to
follow the offset trajectory. This can potentially be cumbersome to obtain, not least as offset
application starts, unless filtering is applied.
The alpha filter is a very simple 1st order IIR filter using a weighted sum of the commanded offset
and the previously applied offset: <code>filtered_offset= alpha*offset+ (1-alpha)*filtered_offset</code></p>
<p>See more details and examples in the UR Support Site: Modify Robot Trajectory</p>
<p><strong>Parameters</strong></p>
<p><strong><em>alpha:</em></strong> The filter coefficient to be used - must be between 0 and 1.</p>
<p>A value of 1 is equivalent to no filtering.
For welding; experiments have shown that a value around 0.1 is a good compromise between
robustness and offsetting accuracy.
The necessary alpha value will depend on robot calibration, robot mounting, payload mass,
payload center of gravity, TCP offset, robot position in workspace, path offset rate of change and
underlying motion.</p>
<p><div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span>
<span class="normal"><a href="#__codelineno-18-2">2</a></span>
<span class="normal"><a href="#__codelineno-18-3">3</a></span>
<span class="normal"><a href="#__codelineno-18-4">4</a></span>
<span class="normal"><a href="#__codelineno-18-5">5</a></span>
<span class="normal"><a href="#__codelineno-18-6">6</a></span>
<span class="normal"><a href="#__codelineno-18-7">7</a></span>
<span class="normal"><a href="#__codelineno-18-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a>  <span class="c1"># Set the alpha filter value to 0.2</span>
<a id="__codelineno-18-3" name="__codelineno-18-3"></a>  <span class="n">path_offset_set_alpha_filter</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>
<a id="__codelineno-18-4" name="__codelineno-18-4"></a>  <span class="c1"># Generate the offset path</span>
<a id="__codelineno-18-5" name="__codelineno-18-5"></a><span class="hll">  <span class="n">offset_path</span> <span class="o">=</span> <span class="n">path_offset</span><span class="p">(</span><span class="n">original_path</span><span class="p">,</span> <span class="n">offset_distance</span><span class="p">)</span>
</span><a id="__codelineno-18-6" name="__codelineno-18-6"></a>  <span class="c1"># Move the robot along the offset path</span>
<a id="__codelineno-18-7" name="__codelineno-18-7"></a>  <span class="n">movej</span><span class="p">(</span><span class="n">offset_path</span><span class="p">)</span>
<a id="__codelineno-18-8" name="__codelineno-18-8"></a><span class="n">end</span>
</code></pre></div></td></tr></table></div>
In this example, the alpha filter value is set to 0.2 before the offset path is generated. This means
that the path offset algorithm will apply a moderate level of filtering to the final path, resulting in a
smoother path for the robot to follow. 
The robot then moves along the offset path using the movej
command. </p>
<details class="note" open="open">
<summary>Note</summary>
<p>Note that the original_path variable should be the path that you want to offset and offset_distance is the distance you want the path to be offset by.</p>
</details>
<h4 id="13129-path_offset_set_max_offsettranslimit-rotlimit">13.1.29 path_offset_set_max_offset(transLimit, rotLimit)</h4>
<p>The benefit of using path_offset_set_max_offset(transLimit, rotLimit) in a UR program is that it
allows for precise control over the maximum allowed deviation from the programmed path for the
robot's movement. The transLimit parameter sets the maximum allowed deviation in linear
movement (measured in millimeters), and the rotLimit parameter sets the maximum allowed
deviation in rotational movement (measured in degrees). By setting these limits, the robot can be
programmed to stay within a specific tolerance range for its movement, ensuring greater precision
and accuracy in tasks such as welding or assembly. This can also help to prevent collisions or other
potential hazards.
Set limits for the maximum allowed offset.
Due to safety and due to the finite reach of the robot, path offsetting limits the magnitude of the
offset to be applied. Use this function to adjust these limits. Per default limits of 0.1 meters and
30 degrees (0.52 radians) are used.</p>
<p><strong>Parameters</strong></p>
<p><strong><em>transLimit:</em></strong> The maximum allowed translational offset distance along any axis in meters.</p>
<p><strong><em>rotLimit:</em></strong> The maximum allowed rotational offset around any axis in radians.</p>
<h4 id="13130-pause_on_error_codecode-argument">13.1.30 pause_on_error_code(code, argument)</h4>
<p>Makes the robot pause if the specified error code occurs. The robot will only pause during
program execution.
This setting is reset when the program is stopped. Call the command again before/during
program execution to re-enable it.</p>
<p><code>pause_on_error_code(173, 3)</code>
In the above example, the robot will pause on errors with code 173 if its argument equals 3
(corresponding to ’C173A3’ in the log).</p>
<p><code>pause_on_error_code(173)</code></p>
<p>In the above example, the robot will pause on error code 173 for any argument value.</p>
<p><strong>Parameters</strong></p>
<ul>
<li>code: The code of the error for which the robot should pause (int)</li>
<li>argument: The argument of the error. If this parameter is omitted the robot will pause on any argument for the specified error code (int)</li>
</ul>
<p>Notes: </p>
<ul>
<li>This script command currently only supports error codes 173 and 174.</li>
<li>Error codes appear in the log as CxAy where 'x' is the code and 'y' is the argument.</li>
</ul>
<h4 id="13131-position_deviation_warningenabled-threshold08">13.1.31 position_deviation_warning(enabled, threshold=0.8)</h4>
<p>When enabled, this function generates warning messages to the log when the robot deviates
from the target position. This function can be called at any point in the execution of a program. It
has no return value.</p>
<blockquote>
<p>position_deviation_warning(True)</p>
</blockquote>
<p><strong>Parameters</strong></p>
<p><strong><em>enabled:</em></strong> (Boolean) Enable or disable position deviation log messages.</p>
<p><strong><em>threshold:</em></strong> (Float) Optional value in the range [0;1], </p>
<p>where 0 is no position deviation and 1 is the
maximum position deviation (equivalent to the amount of position deviation that causes a
protective stop of the robot). If no threshold is specified by the user, a default value of 0.8 is used.</p>
<p><strong><em>Example command:</em></strong> position_deviation_warning(True, 0.8)</p>
<p><strong>Example Parameters:</strong></p>
<ul>
<li>
<p>Enabled = True → Logging of warning is turned on</p>
</li>
<li>
<p>Threshold = 0.8 80% of deviation that causes a protective stop causes a warning to
be logged in the log history file.</p>
</li>
</ul>
<h4 id="13132-reset_revolution_counterqnear00-00-00-00-00-00">13.1.32 reset_revolution_counter(qNear=[0.0, 0.0, 0.0, 0.0, 0.0, 0.0])</h4>
<p>Reset the revolution counter, if no offset is specified. This is applied on joints which safety limits
are set to "Unlimited" and are only applied when new safety settings are applied with limitted joint
angles.</p>
<p><code>reset_revolution_counter()</code></p>
<p><strong>Parameters</strong></p>
<ul>
<li>
<p>qNear: Optional parameter, reset the revolution counter to one close to the given qNear joint</p>
</li>
<li>
<p>vector. If not defined, the joint’s actual number of revolutions are used.</p>
</li>
</ul>
<p><strong>Example command:</strong></p>
<p><code>reset_revolution_counter(qNear=[0.0, 0.0, 0.0, 0.0, 0.0, 0.0])</code></p>
<p>In the above example, the function has been enabled. This means that log messages will be</p>
<p>generated whenever a position deviation occurs. The optional "threshold" parameter can be
used to specify the level of position deviation that triggers a log message.</p>
<p><strong>Example Parameters:</strong></p>
<ul>
<li>qNear = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0] -&gt; Optional parameter, resets the revolution
counter of wrist 3 to zero on UR3 robots to the nearest zero location to joint rotations
represented by qNear.</li>
</ul>
<h4 id="13133-screw_drivingf-v_limit">13.1.33 screw_driving(f, v_limit)</h4>
<p>Enter screw driving mode. The robot will exert a force in the TCP Z-axis direction at limited
speed. This allows the robot to follow the screw during tightening/loosening operations.</p>
<p><strong>Parameters</strong></p>
<p><strong><em>f:</em></strong> The amount of force the robot will exert along the TCP Z-axis (Newtons).</p>
<p><strong><em>v_limit:</em></strong> Maximum TCP velocity along the Z axis (m/s).</p>
<p>Notes:</p>
<p>Zero the F/T sensor without the screw driver pushing against the screw.
Call end_screw_driving when the screw driving operation has completed.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-19-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-19-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-19-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-19-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-19-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-19-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-19-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-19-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-19-10">10</a></span>
<span class="normal"><a href="#__codelineno-19-11">11</a></span>
<span class="normal"><a href="#__codelineno-19-12">12</a></span>
<span class="normal"><a href="#__codelineno-19-13">13</a></span>
<span class="normal"><a href="#__codelineno-19-14">14</a></span>
<span class="normal"><a href="#__codelineno-19-15">15</a></span>
<span class="normal"><a href="#__codelineno-19-16">16</a></span>
<span class="normal"><a href="#__codelineno-19-17">17</a></span>
<span class="normal"><a href="#__codelineno-19-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="k">def</span> <span class="nf">testScrewDriver</span><span class="p">():</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a>  <span class="c1"># Zero F/T sensor</span>
<a id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="hll">  <span class="n">zero_ftsensor</span><span class="p">()</span>
</span><a id="__codelineno-19-4" name="__codelineno-19-4"></a>  <span class="n">sleep</span><span class="p">(</span><span class="mf">0.02</span><span class="p">)</span>
<a id="__codelineno-19-5" name="__codelineno-19-5"></a>
<a id="__codelineno-19-6" name="__codelineno-19-6"></a>  <span class="c1"># Move the robot to the tightening position</span>
<a id="__codelineno-19-7" name="__codelineno-19-7"></a>  <span class="c1"># (i.e. just before contact with the screw)</span>
<a id="__codelineno-19-8" name="__codelineno-19-8"></a>  <span class="o">...</span>
<a id="__codelineno-19-9" name="__codelineno-19-9"></a>
<a id="__codelineno-19-10" name="__codelineno-19-10"></a>  <span class="c1"># Start following the screw while tightening</span>
<a id="__codelineno-19-11" name="__codelineno-19-11"></a>  <span class="n">screw_driving</span><span class="p">(</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<a id="__codelineno-19-12" name="__codelineno-19-12"></a>
<a id="__codelineno-19-13" name="__codelineno-19-13"></a>  <span class="c1"># Wait until screw driver reports OK or NOK</span>
<a id="__codelineno-19-14" name="__codelineno-19-14"></a>  <span class="o">...</span>
<a id="__codelineno-19-15" name="__codelineno-19-15"></a>
<a id="__codelineno-19-16" name="__codelineno-19-16"></a>  <span class="c1"># Exit screw driving mode</span>
<a id="__codelineno-19-17" name="__codelineno-19-17"></a>  <span class="n">end_screw_driving</span><span class="p">()</span>
<a id="__codelineno-19-18" name="__codelineno-19-18"></a><span class="n">end</span>
</code></pre></div></td></tr></table></div>
<h4 id="13134-servocpose-a12-v025-r0">13.1.34 servoc(pose, a=1.2, v=0.25, r=0)</h4>
<p>Servo Circular</p>
<p>Servo to position (circular in tool space). Accelerates to, and moves with, constant tool speed v.</p>
<p><strong>Parameters</strong></p>
<p><strong><em>pose:</em></strong> target pose (pose can also be specified as joint positions, then
forward kinematics is used to calculate the corresponding pose)</p>
<p><strong><em>a:</em></strong> tool acceleration [m/s^2]</p>
<p><strong><em>v:</em></strong> tool speed [m/s]</p>
<p><strong><em>r:</em></strong> blend radius (of target pose) [m]</p>
<p><code>servoc(p[0.2,0.3,0.5,0,0,3.14], a=1.2, v=0.25, r=0)</code></p>
<p>Example Parameters:</p>
<p><code>pose = p[0.2,0.3,0.5,0,0,3.14]</code> → position in base frame of x
= 200 mm, y = 300 mm, z = 500 mm, rx = 0, ry = 0, rz = 180 deg.</p>
<ul>
<li>a = 1.2 → acceleration of 1.2 m/s^2</li>
<li>v = 0.25 → velocity of 250 mm/s</li>
<li>r = 0 → the blend radius at the target position is zero meters.</li>
</ul>
<h4 id="13135-servojq-a-v-t0002-lookahead_time01-gain300">13.1.35 servoj(q, a, v, t=0.002, lookahead_time=0.1, gain=300)</h4>
<p>Servoj can be used for online realtime control of joint positions.
The gain parameter works the same way as the P-term of a PID controller, where it adjusts the
current position towards the desired (q). The higher the gain, the faster reaction the robot will
have. The parameter lookahead_time is used to project the current position forward in time with the
current velocity. A low value gives fast reaction, a high value prevents overshoot.
Note: A high gain or a short lookahead time may cause instability and vibrations. Especially if the
target positions are noisy or updated at a low frequency
It is preferred to call this function with a new setpoint (q) in each time step (thus the default
t=0.002)
You can combine with the script command get_inverse_kin() to perform servoing based on
cartesian positions:</p>
<p><code>q = get_inverse_kin(x)</code></p>
<p><code>servoj(q, lookahead_time=0.05, gain=500)</code></p>
<p>Here x is a pose variable with target cartesian positions, received over a socket or RTDE
registers.</p>
<p>**Example command: **</p>
<p><code>servoj([0.0,1.57,-1.57,0,0,3.14], 0, 0, 0.002, 0.1, 300)</code></p>
<p><strong>Example Parameters:</strong></p>
<ul>
<li>q = [0.0,1.57,-1.57,0,0,3.14] joint angles in radians representing rotations of base, shoulder, elbow, wrist1, wrist2 and wrist3</li>
<li>a = 0 → not used in current version</li>
<li>v = 0 → not used in current version</li>
<li>t = 0.002 time where the command is controlling the robot. The function is blocking</li>
<li>for time t [S].</li>
<li>lookahead time = .1 time [S], range [0.03,0.2] smoothens the trajectory with this</li>
<li>lookahead time</li>
</ul>
<p>gain = 300 proportional gain for following target position, range [100,2000]</p>
<p>The servoj(q, a, v, t=0.002, lookahead_time=0.1, gain=300) function in a UR program is used to
control the motion of a robotic arm. The function takes in several parameters to control the motion
of the arm:</p>
<p>The benefit of using this function is that it allows for precise and smooth control of the robotic arm's
motion. The function uses a control loop with a proportional gain to track the desired position,
velocity, and acceleration. The lookahead time and sampling time parameters allow for the control
loop to react to changes in the desired setpoints and provide smooth and accurate motion. The gain
parameter allows for fine-tuning of the control loop's responsiveness. Overall, the servoj function
provides a powerful and flexible tool for controlling the motion of a robotic arm in a UR program.</p>
<h4 id="13136-set_conveyor_tick_counttick_count-absolute_encoder_resolution0">13.1.36 set_conveyor_tick_count(tick_count, absolute_encoder_resolution=0)</h4>
<h4 id="13137-set_posq">13.1.37 set_pos(q)</h4>
<h4 id="13138-set_safety_mode_transition_hardnesstype">13.1.38 set_safety_mode_transition_hardness(type)</h4>
<p>Set joint positions of simulated robot</p>
<p><strong><em>q:</em></strong> joint positions</p>
<p><strong>Example command:</strong> </p>
<p><code>set_pos([0.0,1.57,-1.57,0,0,3.14])</code></p>
<p><strong>Example Parameters:</strong>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-20-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-20-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-20-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-20-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-20-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-20-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-20-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-20-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-20-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="n">q</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">1.57</span><span class="p">,</span><span class="o">-</span><span class="mf">1.57</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">3.14</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">the</span> <span class="n">position</span> <span class="n">of</span> <span class="n">the</span> <span class="n">simulated</span> <span class="n">robot</span> <span class="k">with</span> <span class="n">joint</span> <span class="n">angles</span> <span class="ow">in</span>
<a id="__codelineno-20-2" name="__codelineno-20-2"></a><span class="n">radians</span> <span class="n">representing</span> <span class="n">rotations</span> <span class="n">of</span> <span class="n">base</span><span class="p">,</span> <span class="n">shoulder</span><span class="p">,</span> <span class="n">elbow</span><span class="p">,</span> <span class="n">wrist1</span><span class="p">,</span> <span class="n">wrist2</span> <span class="ow">and</span> <span class="n">wrist3</span>
<a id="__codelineno-20-3" name="__codelineno-20-3"></a><span class="c1"># Set the safety mode transition hardness to &quot;strict&quot;</span>
<a id="__codelineno-20-4" name="__codelineno-20-4"></a><span class="n">set_safety_mode_transition_hardness</span><span class="p">(</span><span class="s2">&quot;strict&quot;</span><span class="p">)</span>
<a id="__codelineno-20-5" name="__codelineno-20-5"></a><span class="c1"># Perform some robot movements or actions</span>
<a id="__codelineno-20-6" name="__codelineno-20-6"></a><span class="n">movej</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">a</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<a id="__codelineno-20-7" name="__codelineno-20-7"></a><span class="c1"># Set the safety mode transition hardness to &quot;normal&quot;</span>
<a id="__codelineno-20-8" name="__codelineno-20-8"></a><span class="hll"><span class="n">set_safety_mode_transition_hardness</span><span class="p">(</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>
</span><a id="__codelineno-20-9" name="__codelineno-20-9"></a><span class="c1"># Perform some more robot movements or actions</span>
<a id="__codelineno-20-10" name="__codelineno-20-10"></a><span class="n">movel</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">a</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h4 id="13139-speedjqd-a-t">13.1.39 speedj(qd, a, t)</h4>
<p>Joint speed</p>
<p>Accelerate linearly in joint space and continue with constant joint speed. The time t is optional; if
provided the function will return after time t, regardless of the target speed has been reached. If
the time t is not provided, the function will return when the target speed is reached.</p>
<p><strong>Parameters</strong></p>
<ul>
<li>qd: joint speeds [rad/s]</li>
<li>a: joint acceleration [rad/s^2] (of leading axis)</li>
<li>t: time [s] before the function returns (optional)</li>
</ul>
<p><strong>Example command:</strong></p>
<p><code>speedj([0.2,0.3,0.1,0.05,0,0], 0.5, 0.5)</code></p>
<p><strong>Example Parameters:</strong></p>
<ul>
<li>qd -&gt; Joint speeds of: base=0.2 rad/s, shoulder=0.3 rad/s, elbow=0.1 rad/s,</li>
<li>wrist1=0.05 rad/s, wrist2 and wrist3=0 rad/s</li>
<li>a = 0.5 rad/s^2 -&gt; acceleration of the leading axis (shoulder in this case)</li>
<li>t = 0.5 s -&gt; time before the function returns</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span>
<span class="normal"><a href="#__codelineno-21-2">2</a></span>
<span class="normal"><a href="#__codelineno-21-3">3</a></span>
<span class="normal"><a href="#__codelineno-21-4">4</a></span>
<span class="normal"><a href="#__codelineno-21-5">5</a></span>
<span class="normal"><a href="#__codelineno-21-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="c1"># Define the target joint speed, acceleration, and time</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="n">qd</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]</span> <span class="c1"># in rad/s</span>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">]</span> <span class="c1"># in rad/s^2</span>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a><span class="n">t</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1"># in seconds</span>
<a id="__codelineno-21-5" name="__codelineno-21-5"></a><span class="c1"># Move the robot to the target joint speed using speedj</span>
<a id="__codelineno-21-6" name="__codelineno-21-6"></a><span class="n">speedj</span><span class="p">(</span><span class="n">qd</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>Stop (linear in joint space)</p>
<p>Decelerate joint speeds to zero</p>
<p><strong>Parameters</strong></p>
<p><strong><em>a:</em></strong> joint acceleration [rad/s^2] (of leading axis)</p>
<p>Example command: stopj(2)</p>
<ul>
<li>Example Parameters:</li>
<li>a = 2 rad/s^2 -&gt; rate of deceleration of the leading axis.</li>
</ul>
<h2 id="14-module-internals">14. Module Internals</h2>
<h3 id="141-functions">14.1 Functions</h3>
<h4 id="1411-force">14.1.1 force()</h4>
<p>Returns the force exerted at the TCP
Return the current externally exerted force at the TCP. The force is the norm of Fx, Fy, and Fz
calculated using get_tcp_force().
Return Value
The force in Newton (float)</p>
<details class="note" open="open">
<summary>Note</summary>
<p>Note: Refer to force_mode() for taring the sensor.</p>
</details>
<h4 id="1412-get_actual_positions">14.1.2 get_actual_positions()</h4>
<p>Returns the actual angular positions of all joints</p>
<p>The angular actual positions are expressed in radians and returned as a vector of length 6. Note
that the output might differ from the output of get_target_joint_positions(), especially
during acceleration and heavy loads.</p>
<p><strong>Return Value</strong></p>
<p>The current actual joint angular position vector in rad : [Base, Shoulder, Elbow, Wrist1, Wrist2, Wrist3]</p>
<p><code>get_actual_joint_positions()</code> returns the current actual joint positions of the robot arm in radians,
while get_actual_tcp() returns the current actual position and orientation of the tool center point
(TCP) of the robot arm in millimeters and radians.</p>
<p><code>get_actual_joint_positions()</code> is used to retrieve the current position of each joint in the robot arm,
while get_actual_tcp() is used to retrieve the current position and orientation of the end-effector
(TCP) of the robot arm. The former is useful for monitoring the position of each joint and ensuring
they are at the desired positions, while the latter is useful for monitoring the position and
orientation of the end-effector for tasks such as pick-and-place operations.</p>
<h4 id="1413-get_actual_joint_positions_historysteps0">14.1.3 get_actual_joint_positions_history(steps=0)</h4>
<p>Returns the actual past angular positions of all joints</p>
<p>This function returns the angular positions as reported by the function <code>get_actual_joint_
positions()</code> which indicates the number of controller time steps occurring before the current
time step.
An exception is thrown if indexing goes beyond the buffer size.</p>
<p><strong>Parameters</strong></p>
<p>steps: The number of controller time steps required to go back. 0 corresponds to <code>get_actual_joint_positions()</code></p>
<p><strong>Return Value:</strong></p>
<p>The joint angular position vector in rad : [Base, Shoulder, Elbow, Wrist1, Wrist2, Wrist3] that was
actual at the provided number of steps before the current time step.</p>
<h4 id="1414-get_actual_joint_speeds">14.1.4 get_actual_joint_speeds()</h4>
<p>Returns the actual angular velocities of all joints
The angular actual velocities are expressed in radians. second and returned as a vector of
length 6. 
???+ </p>
<div class="highlight"><pre><span></span><code>Note that the output might differ from the output of get_target_joint_speeds(),
especially during acceleration and heavy loads.
</code></pre></div>
<p><strong>Return Value</strong></p>
<p>The current actual joint angular velocity vector in rad/s: [Base, Shoulder, Elbow, Wrist1, Wrist2,
Wrist3]
You can use the <code>get_actual_joint_speeds()</code> command in various scenarios, such as:
- Monitoring the robot's performance: You can use this command to check the joint speeds of
the robot in real-time and ensure that they are within safe and efficient operating ranges.</p>
<ul>
<li>
<p>Feedback control: You can use the joint speeds as feedback in a control algorithm to adjust
the robot's motion, for example, to achieve a specific trajectory or a specific position.</p>
</li>
<li>
<p>Safety: You can use the joint speeds to detect and prevent potential collisions. For example,
if the joint speeds are too high, you can reduce the speed to avoid a collision.</p>
</li>
<li>
<p>Debugging: You can use this command to debug issues with the robot's motion, such as
unexpected changes in joint speed that may indicate a problem with the robot's hardware or
software.</p>
</li>
<li>
<p>Algorithms that require the knowledge of the actual joint speeds like visual servoing, force
control, motion planning, etc.</p>
</li>
</ul>
<h4 id="1415-get_actual_tcp_pose">14.1.5 get_actual_tcp_pose()</h4>
<p>Returns the current measured tool pose
Returns the 6d pose representing the tool position and orientation specified in the base frame.
The calculation of this pose is based on the actual robot encoder readings.</p>
<p><strong>Return Value</strong></p>
<p>The current actual TCP vector [X, Y, Z, Rx, Ry, Rz]</p>
<h4 id="1416-get_actual_tcp_speed">14.1.6 get_actual_tcp_speed()</h4>
<p>Returns the current measured TCP speed
The speed of the TCP retuned in a pose structure. The first three values are the cartesian speeds
along x,y,z, and the last three define the current rotation axis, rx,ry,rz, and the length |rz,ry,rz|
defines the angular velocity in radians/s.</p>
<p><strong>Return Value</strong></p>
<p>The current actual TCP velocity vector [X, Y, Z, Rx, Ry, Rz]</p>
<h4 id="1417-get_actual_tool_flange_pose">14.1.7 get_actual_tool_flange_pose()</h4>
<p>Returns the current measured tool flange pose
Returns the 6d pose representing the tool flange position and orientation specified in the base
frame, without the Tool Center Point offset. The calculation of this pose is based on the actual
robot encoder readings.
<strong>Return Value</strong></p>
<p>The current actual tool flange vector: [X, Y, Z, Rx, Ry, Rz]</p>
<details class="note">
<summary>Note</summary>
<p>See get_actual_tcp_pose for the actual 6d pose including TCP offset.</p>
</details>
<p>The get_actual_tool_flange_pose() function in UR Script is used to retrieve the current flange pose
(position and orientation) of the robot's tool. This information can be used for various purposes,
such as:</p>
<ul>
<li>
<p>Verifying the current position of the tool for a given task or operation</p>
</li>
<li>
<p>Comparing the current tool pose to a desired or target pose for accurate movement or control</p>
</li>
<li>
<p>Recording the tool's position and orientation for later use or analysis</p>
</li>
<li>
<p>Monitoring the tool's movement and detecting any deviations from the expected path or trajectory
  Overall, the get_actual_tool_flange_pose() function is a useful tool for monitoring and controlling
  the robot's tool position and orientation, which is essential for accurate and precise robotic
  automation tasks.</p>
</li>
</ul>
<p><strong><em>These are high level examples which require XML-rpc as it contains now ursctipt commands</em></strong>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-22-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-22-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-22-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-22-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-22-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-22-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-22-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-22-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-22-10">10</a></span>
<span class="normal"><a href="#__codelineno-22-11">11</a></span>
<span class="normal"><a href="#__codelineno-22-12">12</a></span>
<span class="normal"><a href="#__codelineno-22-13">13</a></span>
<span class="normal"><a href="#__codelineno-22-14">14</a></span>
<span class="normal"><a href="#__codelineno-22-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="mf">1.</span> <span class="n">Verifying</span> <span class="n">tool</span> <span class="n">position</span> <span class="n">before</span> <span class="n">starting</span> <span class="n">a</span> <span class="n">task</span><span class="p">:</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="c1"># Define the desired tool position and orientation</span>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="n">desired_pose</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-22-4" name="__codelineno-22-4"></a><span class="c1"># Retrieve the current tool flange pose</span>
<a id="__codelineno-22-5" name="__codelineno-22-5"></a><span class="n">actual_pose</span> <span class="o">=</span> <span class="n">get_actual_tool_flange_pose</span><span class="p">()</span>
<a id="__codelineno-22-6" name="__codelineno-22-6"></a><span class="c1"># Compare the actual and desired poses</span>
<a id="__codelineno-22-7" name="__codelineno-22-7"></a><span class="k">if</span> <span class="p">(</span><span class="n">desired_pose</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">actual_pose</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="ow">and</span> <span class="p">(</span><span class="n">desired_pose</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">actual_pose</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="ow">and</span>
<a id="__codelineno-22-8" name="__codelineno-22-8"></a><span class="hll"><span class="p">(</span><span class="n">desired_pose</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">actual_pose</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="ow">and</span> <span class="p">(</span><span class="n">desired_pose</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">actual_pose</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="ow">and</span>
</span><a id="__codelineno-22-9" name="__codelineno-22-9"></a><span class="p">(</span><span class="n">desired_pose</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="n">actual_pose</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span> <span class="ow">and</span> <span class="p">(</span><span class="n">desired_pose</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">==</span> <span class="n">actual_pose</span><span class="p">[</span><span class="mi">5</span><span class="p">]):</span>
<a id="__codelineno-22-10" name="__codelineno-22-10"></a><span class="c1"># Start the task</span>
<a id="__codelineno-22-11" name="__codelineno-22-11"></a><span class="n">movej</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<a id="__codelineno-22-12" name="__codelineno-22-12"></a><span class="k">else</span><span class="p">:</span>
<a id="__codelineno-22-13" name="__codelineno-22-13"></a><span class="c1"># Print an error message and stop the program</span>
<a id="__codelineno-22-14" name="__codelineno-22-14"></a><span class="n">popup</span><span class="p">(</span><span class="s2">&quot;Error: Tool is not in the correct position.&quot;</span><span class="p">)</span>
<a id="__codelineno-22-15" name="__codelineno-22-15"></a><span class="n">stopj</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-23-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-23-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-23-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-23-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-23-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-23-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-23-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-23-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-23-10">10</a></span>
<span class="normal"><a href="#__codelineno-23-11">11</a></span>
<span class="normal"><a href="#__codelineno-23-12">12</a></span>
<span class="normal"><a href="#__codelineno-23-13">13</a></span>
<span class="normal"><a href="#__codelineno-23-14">14</a></span>
<span class="normal"><a href="#__codelineno-23-15">15</a></span>
<span class="normal"><a href="#__codelineno-23-16">16</a></span>
<span class="normal"><a href="#__codelineno-23-17">17</a></span>
<span class="normal"><a href="#__codelineno-23-18">18</a></span>
<span class="normal"><a href="#__codelineno-23-19">19</a></span>
<span class="normal"><a href="#__codelineno-23-20">20</a></span>
<span class="normal"><a href="#__codelineno-23-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="mf">2.</span> <span class="n">Monitoring</span> <span class="n">tool</span> <span class="n">movement</span> <span class="ow">and</span> <span class="n">detecting</span> <span class="n">deviations</span><span class="p">:</span> <span class="n">This</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">work</span> <span class="n">directly</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="c1"># Define the desired tool path</span>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="n">desired_path</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
<a id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="c1"># Initialize a variable to store the current tool path</span>
<a id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="n">actual_path</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="c1"># Start the task</span>
<a id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="n">movej</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<a id="__codelineno-23-8" name="__codelineno-23-8"></a><span class="hll"><span class="c1"># Retrieve the current tool flange pose at regular intervals</span>
</span><a id="__codelineno-23-9" name="__codelineno-23-9"></a><span class="k">while</span> <span class="ow">not</span> <span class="n">get_inverse_kin</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
<a id="__codelineno-23-10" name="__codelineno-23-10"></a><span class="n">actual_path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">get_actual_tool_flange_pose</span><span class="p">())</span>
<a id="__codelineno-23-11" name="__codelineno-23-11"></a><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<a id="__codelineno-23-12" name="__codelineno-23-12"></a><span class="c1"># Compare the actual and desired paths</span>
<a id="__codelineno-23-13" name="__codelineno-23-13"></a><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">desired_path</span><span class="p">)):</span> <span class="c1">#I may do an RPC call tp a python function.</span>
<a id="__codelineno-23-14" name="__codelineno-23-14"></a><span class="k">if</span> <span class="p">(</span><span class="n">desired_path</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">actual_path</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="ow">or</span> <span class="p">(</span><span class="n">desired_path</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="n">actual_path</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="ow">or</span>
<a id="__codelineno-23-15" name="__codelineno-23-15"></a><span class="p">(</span><span class="n">desired_path</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="n">actual_path</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span> <span class="ow">or</span> <span class="p">(</span><span class="n">desired_path</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="n">actual_path</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">])</span> <span class="ow">or</span>
<a id="__codelineno-23-16" name="__codelineno-23-16"></a><span class="p">(</span><span class="n">desired_path</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span> <span class="o">!=</span> <span class="n">actual_path</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">4</span><span class="p">])</span> <span class="ow">or</span> <span class="p">(</span><span class="n">desired_path</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span> <span class="o">!=</span> <span class="n">actual_path</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">5</span><span class="p">]):</span>
<a id="__codelineno-23-17" name="__codelineno-23-17"></a><span class="c1"># Print an error message and stop the program</span>
<a id="__codelineno-23-18" name="__codelineno-23-18"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: Tool deviated from the desired path.&quot;</span><span class="p">)</span>
<a id="__codelineno-23-19" name="__codelineno-23-19"></a><span class="n">stopj</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<a id="__codelineno-23-20" name="__codelineno-23-20"></a><span class="c1"># Print a success message</span>
<a id="__codelineno-23-21" name="__codelineno-23-21"></a><span class="n">popup</span><span class="p">(</span><span class="s2">&quot;Task completed successfully.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<p>3.Recording tool position and orientation for later use:
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-24-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-24-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-24-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-24-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-24-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-24-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-24-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-24-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-24-10">10</a></span>
<span class="normal"><a href="#__codelineno-24-11">11</a></span>
<span class="normal"><a href="#__codelineno-24-12">12</a></span>
<span class="normal"><a href="#__codelineno-24-13">13</a></span>
<span class="normal"><a href="#__codelineno-24-14">14</a></span>
<span class="normal"><a href="#__codelineno-24-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="c1"># Define the recording duration (in seconds)</span>
<a id="__codelineno-24-2" name="__codelineno-24-2"></a><span class="n">duration</span> <span class="o">=</span> <span class="mi">60</span>
<a id="__codelineno-24-3" name="__codelineno-24-3"></a><span class="c1"># Initialize a variable to store the recorded tool poses</span>
<a id="__codelineno-24-4" name="__codelineno-24-4"></a><span class="n">recorded_poses</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-24-5" name="__codelineno-24-5"></a><span class="c1"># Start the recording</span>
<a id="__codelineno-24-6" name="__codelineno-24-6"></a><span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<a id="__codelineno-24-7" name="__codelineno-24-7"></a><span class="k">while</span> <span class="p">(</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">duration</span><span class="p">:</span>
<a id="__codelineno-24-8" name="__codelineno-24-8"></a><span class="hll"><span class="n">recorded_poses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">get_actual_tool_flange_pose</span><span class="p">())</span>
</span><a id="__codelineno-24-9" name="__codelineno-24-9"></a><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<a id="__codelineno-24-10" name="__codelineno-24-10"></a><span class="c1"># Save the recorded poses to a file #I may do an RPC call tp a python function.</span>
<a id="__codelineno-24-11" name="__codelineno-24-11"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;recorded_poses.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-24-12" name="__codelineno-24-12"></a><span class="k">for</span> <span class="n">pose</span> <span class="ow">in</span> <span class="n">recorded_poses</span><span class="p">:</span>
<a id="__codelineno-24-13" name="__codelineno-24-13"></a><span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">pose</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-24-14" name="__codelineno-24-14"></a><span class="c1"># Print a success message</span>
<a id="__codelineno-24-15" name="__codelineno-24-15"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recording completed successfully.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h4 id="1418-get_controller_temp">14.1.8 get_controller_temp()</h4>
<p>Returns the temperature of the control box
The temperature of the robot control box in degrees Celcius.</p>
<p><strong>Return Value</strong></p>
<p>A temperature in degrees Celcius (float)
Example 1: Monitoring and Logging Controller Temperature
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span>
<span class="normal"><a href="#__codelineno-25-2">2</a></span>
<span class="normal"><a href="#__codelineno-25-3">3</a></span>
<span class="normal"><a href="#__codelineno-25-4">4</a></span>
<span class="normal"><a href="#__codelineno-25-5">5</a></span>
<span class="normal"><a href="#__codelineno-25-6">6</a></span>
<span class="normal"><a href="#__codelineno-25-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="c1"># Define a variable to store the current temperature</span>
<a id="__codelineno-25-2" name="__codelineno-25-2"></a><span class="n">temp</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-25-3" name="__codelineno-25-3"></a><span class="c1"># Continuously retrieve the controller temperature and log it to a file</span>
<a id="__codelineno-25-4" name="__codelineno-25-4"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span><span class="c1">#I may do an RPC call tp a python function.</span>
<a id="__codelineno-25-5" name="__codelineno-25-5"></a><span class="n">temp</span> <span class="o">=</span> <span class="n">get_controller_temp</span><span class="p">()</span>
<a id="__codelineno-25-6" name="__codelineno-25-6"></a><span class="n">log_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Current controller temperature: </span><span class="si">{}</span><span class="s2"> degrees Celsius</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">temp</span><span class="p">))</span>
<a id="__codelineno-25-7" name="__codelineno-25-7"></a><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<p>In this example, the program continuously retrieves the current controller temperature and logs it to
a file every second. This can be useful for monitoring the temperature over time and detecting any
potential issues or overheating.</p>
<p>Example 2: Automatic Cooling System</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span>
<span class="normal"><a href="#__codelineno-26-2">2</a></span>
<span class="normal"><a href="#__codelineno-26-3">3</a></span>
<span class="normal"><a href="#__codelineno-26-4">4</a></span>
<span class="normal"><a href="#__codelineno-26-5">5</a></span>
<span class="normal"><a href="#__codelineno-26-6">6</a></span>
<span class="normal"><a href="#__codelineno-26-7">7</a></span>
<span class="normal"><a href="#__codelineno-26-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="c1"># Define the maximum temperature threshold</span>
<a id="__codelineno-26-2" name="__codelineno-26-2"></a><span class="n">max_temp</span> <span class="o">=</span> <span class="mi">60</span>
<a id="__codelineno-26-3" name="__codelineno-26-3"></a><span class="c1"># Continuously check the controller temperature and activate the cooling system if necessary</span>
<a id="__codelineno-26-4" name="__codelineno-26-4"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-26-5" name="__codelineno-26-5"></a><span class="n">temp</span> <span class="o">=</span> <span class="n">get_controller_temp</span><span class="p">()</span>
<a id="__codelineno-26-6" name="__codelineno-26-6"></a><span class="k">if</span> <span class="n">temp</span> <span class="o">&gt;</span> <span class="n">max_temp</span><span class="p">:</span>
<a id="__codelineno-26-7" name="__codelineno-26-7"></a><span class="n">activate_cooling_system</span><span class="p">()</span><span class="c1">#I may do an RPC call to a python function.</span>
<a id="__codelineno-26-8" name="__codelineno-26-8"></a><span class="hll"><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="1419-get_forward_kinqcurrent_joint_positions-tcpactive_tcp">14.1.9 get_forward_kin(q=’current_joint_positions’, tcp=’active_tcp’)</h4>
<p>Calculate the forward kinematic transformation (joint space -&gt; tool space) using the calibrated
robot kinematics. If no joint position vector is provided the current joint angles of the robot arm
will be used. If no tcp is provided the currently active tcp of the controller will be used.
Parameters</p>
<p>q: joint position vector (Optional)</p>
<p>tcp: tcp offset pose (Optional)</p>
<p><strong>Return Value</strong></p>
<p>tool pose</p>
<p><strong>Example command:</strong> 
  - get_forward_kin([0.,3.14,1.57,.785,0,0], p[0,0,0.01,0,0,0])</p>
<p><strong>Example Parameters:</strong></p>
<ul>
<li>q = [0.,3.14,1.57,.785,0,0] -&gt; joint angles of j0=0 deg, j1=180 deg, j2=90 deg, j3=45</li>
<li>deg, j4=0 deg, j5=0 deg.</li>
<li>tcp = p[0,0,0.01,0,0,0] -&gt; tcp offset of x=0mm, y=0mm, z=10mm and rotation vector of rx=0 deg., ry=0 deg, rz=0 deg</li>
</ul>
<h2 id="what-is-kinematics">What is Kinematics?</h2>
<p>Kinematics is the branch of mechanics that deals with the motion of objects without considering the
forces that cause the motion. In robotics, kinematics is the study of the movement and positioning
of robotic systems and their individual components, such as joints, links, and end effectors.</p>
<p>Kinematics in robotics involves the analysis and modeling of the robotic system's movement,
including the position, velocity, and acceleration of the robot's joints and links. It also includes the
study of the relationship between the robot's input variables, such as joint angles and velocities, and
its output variables, such as the position and orientation of the end effector.</p>
<p>Kinematics is a fundamental aspect of robotics, as it enables the design, control, and optimization of
robotic systems for a wide range of applications. It is used in the development of robotic systems
for manufacturing, automation, medical, and service applications. For example, in the case of a
robotic arm, the kinematics of the arm enable the calculation of the position and orientation of the
end effector based on the joint angles, which is essential for the robot to be able to complete its task.</p>
<p>Kinematics is closely related to other fields such as dynamics, control and planning, which are all
important in the development of robotic systems. The study of kinematics also helps to develop
mathematical models that can be used to control and program the robot's movements, which is
essential for accurate and precise automation tasks.</p>
<h2 id="what-is-forward-kinematics">What is forward kinematics?</h2>
<p>Forward kinematics in Universal Robots is the process of determining the position and orientation
of the end effector (tool or gripper) of the robot based on the current joint angles and the robot's
kinematic model.</p>
<p>In Universal Robots, forward kinematics is typically used to calculate the robot's current flange (end
effector) position and orientation, which is essential for monitoring and controlling the robot's
movement. </p>
<p><strong>This information can be used for various purposes, such as:</strong></p>
<ul>
<li>
<p>Verifying the current position of the robot's flange for a given task or operation</p>
</li>
<li>
<p>Comparing the current flange pose to a desired or target pose for accurate movement or control</p>
</li>
<li>
<p>Recording the robot's flange position and orientation for later use or analysis</p>
</li>
<li>
<p>Monitoring the robot's flange movement and detecting any deviations from the expected
  path or trajectory</p>
</li>
</ul>
<p>The forward kinematics is also used to calculate the inverse kinematics, which is the process of
determining the joint angles required to reach a desired flange position and orientation.
Universal Robots provides an API that enables developers to use the forward kinematics
calculations, the API is called URScript, and it is a script-based programming language that allows
you to control the robot and access the robot's kinematic information, for example, you can use the
function get_actual_tool_flange_pose() to get the flange pose of the robot.
Overall, forward kinematics plays a critical role in the programming and control of Universal
Robots, as it enables accurate and precise movement of the robot's end effector, which is essential
for various automation tasks.</p>
<p>The get_forward_kin() function in UR Script is used to calculate the forward kinematics of a
Universal Robots robotic arm. It can be used in several use scenarios such as:</p>
<ul>
<li>
<p>Position Control: The get_forward_kin() function can be used to calculate the robot's current
  flange (end effector) position and orientation based on the current joint angles. This
  information can be used to verify the robot's current position and ensure that it is in the
  correct location for a given task or operation.</p>
</li>
<li>
<p>Trajectory Planning: The get_forward_kin() function can be used to calculate the robot's
  flange position and orientation at different points along a planned trajectory. This
  information can be used to ensure that the robot's movement is accurate and precise, and to
  detect and correct any deviations from the planned trajectory.</p>
</li>
<li>
<p>Error Detection and Correction: The get_forward_kin() function can be used to calculate the
  robot's flange position and orientation based on the current joint angles and compare it to the
  desired or target position and orientation. Any discrepancies between the two can be used to
  detect and correct errors in the robot's movement or control.</p>
</li>
<li>
<p>Robotic Vision: The get_forward_kin() function can be used to calculate the position and
  orientation of the robot's flange in relation to the camera or other sensors. This information
  can be used to accurately align the robot's end effector with objects in the camera's field of
  view.</p>
</li>
<li>
<p>Safety Measures: The get_forward_kin() function can be used to calculate the position and
  orientation of the robot's flange in relation to the environment and other objects. This
  information can be used to ensure that the robot's movement does not pose a risk to people
  or other objects in its vicinity.\</p>
</li>
</ul>
<p>Overall, the get_forward_kin() function is a powerful tool in UR Script that allows developers to
accurately and precisely control the robot's movement, verify its position and orientation, and
ensure the robot's safety.
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-27-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-27-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-27-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-27-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-27-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-27-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-27-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-27-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-27-10">10</a></span>
<span class="normal"><a href="#__codelineno-27-11">11</a></span>
<span class="normal"><a href="#__codelineno-27-12">12</a></span>
<span class="normal"><a href="#__codelineno-27-13">13</a></span>
<span class="normal"><a href="#__codelineno-27-14">14</a></span>
<span class="normal"><a href="#__codelineno-27-15">15</a></span>
<span class="normal"><a href="#__codelineno-27-16">16</a></span>
<span class="normal"><a href="#__codelineno-27-17">17</a></span>
<span class="normal"><a href="#__codelineno-27-18">18</a></span>
<span class="normal"><a href="#__codelineno-27-19">19</a></span>
<span class="normal"><a href="#__codelineno-27-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="c1"># Define the camera&#39;s position and orientation</span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="n">camera_pose</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="c1"># Define the desired position and orientation of the robot&#39;s flange</span>
<a id="__codelineno-27-4" name="__codelineno-27-4"></a><span class="n">desired_flange_pose</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-27-5" name="__codelineno-27-5"></a><span class="c1"># Retrieve the current joint angles of the robot</span>
<a id="__codelineno-27-6" name="__codelineno-27-6"></a><span class="n">current_joint_angles</span> <span class="o">=</span> <span class="n">get_actual_joint_positions</span><span class="p">()</span>
<a id="__codelineno-27-7" name="__codelineno-27-7"></a><span class="c1"># Calculate the current flange position and orientation using forward kinematics</span>
<a id="__codelineno-27-8" name="__codelineno-27-8"></a><span class="hll"><span class="n">current_flange_pose</span> <span class="o">=</span> <span class="n">get_forward_kin</span><span class="p">(</span><span class="n">current_joint_angles</span><span class="p">)</span>
</span><a id="__codelineno-27-9" name="__codelineno-27-9"></a><span class="c1"># Compare the current flange position and orientation to the desired position and orientation</span>
<a id="__codelineno-27-10" name="__codelineno-27-10"></a>
<a id="__codelineno-27-11" name="__codelineno-27-11"></a><span class="k">if</span> <span class="n">current_flange_pose</span> <span class="o">==</span> <span class="n">desired_flange_pose</span><span class="p">:</span>
<a id="__codelineno-27-12" name="__codelineno-27-12"></a>  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Flange is correctly aligned with the camera&quot;</span><span class="p">)</span>
<a id="__codelineno-27-13" name="__codelineno-27-13"></a><span class="k">else</span><span class="p">:</span>
<a id="__codelineno-27-14" name="__codelineno-27-14"></a>  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Flange is not correctly aligned with the camera. Adjusting joint angles...&quot;</span><span class="p">)</span>
<a id="__codelineno-27-15" name="__codelineno-27-15"></a><span class="n">end</span>
<a id="__codelineno-27-16" name="__codelineno-27-16"></a><span class="c1"># Calculate the necessary adjustments to the joint angles</span>
<a id="__codelineno-27-17" name="__codelineno-27-17"></a><span class="n">joint_angle_adjustments</span> <span class="o">=</span> <span class="n">calculate_joint_angle_adjustments</span><span class="p">(</span><span class="n">current_flange_pose</span><span class="p">,</span>
<a id="__codelineno-27-18" name="__codelineno-27-18"></a><span class="n">desired_flange_pose</span><span class="p">)</span>
<a id="__codelineno-27-19" name="__codelineno-27-19"></a><span class="c1"># Move the robot to the desired flange position and orientation</span>
<a id="__codelineno-27-20" name="__codelineno-27-20"></a><span class="n">movej</span><span class="p">(</span><span class="n">joint_angle_adjustments</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<p>In this example, the program first defines the position and orientation of the camera in relation to
the robot's base frame (camera_pose). It then defines the desired position and orientation of the
robot's flange in relation to the camera (desired_flange_pose).</p>
<p>The program then retrieves the current joint angles of the robot and uses the get_forward_kin()
function to calculate the current flange position and orientation based on the current joint angles.
It then compares the current flange position and orientation to the desired position and orientation,
and if they do not match, the program calculates the necessary adjustments to the joint angles using
a separate function (calculate_joint_angle_adjustments()) and moves the robot to the desired flange
position and orientation using the movej() function.</p>
<p>This example shows how the get_forward_kin() function can be used to accurately align the robot's
flange with a camera or other sensor, allowing the robot to perform vision-based tasks such as
object detection and recognition.</p>
<p><div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-28-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-28-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-28-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-28-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-28-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-28-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-28-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-28-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-28-10">10</a></span>
<span class="normal"><a href="#__codelineno-28-11">11</a></span>
<span class="normal"><a href="#__codelineno-28-12">12</a></span>
<span class="normal"><a href="#__codelineno-28-13">13</a></span>
<span class="normal"><a href="#__codelineno-28-14">14</a></span>
<span class="normal"><a href="#__codelineno-28-15">15</a></span>
<span class="normal"><a href="#__codelineno-28-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="c1"># Define the camera&#39;s position and orientation</span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a><span class="n">camera_pose</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-28-3" name="__codelineno-28-3"></a><span class="c1"># Continuously retrieve the current joint angles and calculate the flange pose</span>
<a id="__codelineno-28-4" name="__codelineno-28-4"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-28-5" name="__codelineno-28-5"></a>  <span class="n">joint_angles</span> <span class="o">=</span> <span class="n">get_actual_joint_positions</span><span class="p">()</span>
<a id="__codelineno-28-6" name="__codelineno-28-6"></a>  <span class="n">flange_pose</span> <span class="o">=</span> <span class="n">get_forward_kin</span><span class="p">(</span><span class="n">joint_angles</span><span class="p">)</span>
<a id="__codelineno-28-7" name="__codelineno-28-7"></a>  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Current flange pose: &quot;</span><span class="p">,</span> <span class="n">flange_pose</span><span class="p">)</span>
<a id="__codelineno-28-8" name="__codelineno-28-8"></a><span class="hll">  <span class="c1"># Calculate the difference between the camera and flange poses</span>
</span><a id="__codelineno-28-9" name="__codelineno-28-9"></a>  <span class="n">diff_pose</span> <span class="o">=</span> <span class="n">subtract_pose</span><span class="p">(</span><span class="n">camera_pose</span><span class="p">,</span> <span class="n">flange_pose</span><span class="p">)</span>
<a id="__codelineno-28-10" name="__codelineno-28-10"></a>  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Difference between camera and flange poses: &quot;</span><span class="p">,</span> <span class="n">diff_pose</span><span class="p">)</span>
<a id="__codelineno-28-11" name="__codelineno-28-11"></a>  <span class="c1"># Check if the difference is within a certain tolerance</span>
<a id="__codelineno-28-12" name="__codelineno-28-12"></a>  <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">diff_pose</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mf">0.1</span> <span class="ow">and</span> <span class="nb">abs</span><span class="p">(</span><span class="n">diff_pose</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mf">0.1</span> <span class="ow">and</span> <span class="nb">abs</span><span class="p">(</span><span class="n">diff_pose</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mf">0.1</span><span class="p">:</span>
<a id="__codelineno-28-13" name="__codelineno-28-13"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Robot&#39;s flange is correctly aligned with the camera&quot;</span><span class="p">)</span>
<a id="__codelineno-28-14" name="__codelineno-28-14"></a>  <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-28-15" name="__codelineno-28-15"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Robot&#39;s flange is not correctly aligned with the camera&quot;</span><span class="p">)</span>
<a id="__codelineno-28-16" name="__codelineno-28-16"></a>  <span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
In this example, the program defines a variable "camera_pose" that represents the position and
orientation of a camera. The program then enters a loop that retrieves the current joint angles of the
robot using the get_actual_joint_positions() function. The program then uses the get_forward_kin()
function to calculate the current flange pose based on the joint angles.</p>
<p>The program then calculates the difference between the flange pose and the camera pose using the
subtract_pose() function. The program then checks if the difference is within a certain tolerance (in
this example, 0.1) in each of the x,y,z axis. If the difference is within the tolerance, the program
prints "Robot's flange is correctly aligned with the camera". Otherwise, it prints "Robot's flange is
not correctly aligned with the camera".</p>
<p>This example demonstrates how the get_forward_kin() function can be used to calculate the robot's
flange position and orientation in relation to the camera, allowing for accurate alignment of the
robot's end effector with objects in the camera's field of view.</p>
<p>It's important to note that this is a simplified example, in a real scenario, you will have to take into
consideration the position and orientation of the camera in relation to the robot, but also the
parameters of the camera such as the intrinsic parameters, the extrinsic parameters and the
distortion coefficients.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-29-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-29-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-29-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-29-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-29-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-29-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-29-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-29-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-29-10">10</a></span>
<span class="normal"><a href="#__codelineno-29-11">11</a></span>
<span class="normal"><a href="#__codelineno-29-12">12</a></span>
<span class="normal"><a href="#__codelineno-29-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="c1"># Define the safe zone around the robot</span>
<a id="__codelineno-29-2" name="__codelineno-29-2"></a><span class="n">safe_zone</span> <span class="o">=</span> <span class="p">[</span><span class="n">x_min</span><span class="p">,</span> <span class="n">x_max</span><span class="p">,</span> <span class="n">y_min</span><span class="p">,</span> <span class="n">y_max</span><span class="p">,</span> <span class="n">z_min</span><span class="p">,</span> <span class="n">z_max</span><span class="p">]</span>
<a id="__codelineno-29-3" name="__codelineno-29-3"></a><span class="c1"># Continuously check the robot&#39;s flange position</span>
<a id="__codelineno-29-4" name="__codelineno-29-4"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-29-5" name="__codelineno-29-5"></a>  <span class="n">flange_pose</span> <span class="o">=</span> <span class="n">get_forward_kin</span><span class="p">()</span>
<a id="__codelineno-29-6" name="__codelineno-29-6"></a>  <span class="n">x</span> <span class="o">=</span> <span class="n">flange_pose</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-29-7" name="__codelineno-29-7"></a>  <span class="n">y</span> <span class="o">=</span> <span class="n">flange_pose</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-29-8" name="__codelineno-29-8"></a><span class="hll">  <span class="n">z</span> <span class="o">=</span> <span class="n">flange_pose</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span><a id="__codelineno-29-9" name="__codelineno-29-9"></a>  <span class="c1"># Check if the flange is within the safe zone</span>
<a id="__codelineno-29-10" name="__codelineno-29-10"></a>  <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">safe_zone</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">safe_zone</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">or</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">safe_zone</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">or</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="n">safe_zone</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="ow">or</span> <span class="n">z</span> <span class="o">&lt;</span> <span class="n">safe_zone</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="ow">or</span> <span class="n">z</span> <span class="o">&gt;</span> <span class="n">safe_zone</span><span class="p">[</span><span class="mi">5</span><span class="p">]:</span>
<a id="__codelineno-29-11" name="__codelineno-29-11"></a>    <span class="n">stop_robot</span><span class="p">()</span>
<a id="__codelineno-29-12" name="__codelineno-29-12"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Robot&#39;s flange has left the safe zone. Movement stopped.&quot;</span><span class="p">)</span>
<a id="__codelineno-29-13" name="__codelineno-29-13"></a>  <span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>Here is an example of how to use the get_forward_kin() function in UR Script for trajectory planning:
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-30-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-30-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-30-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-30-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-30-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-30-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-30-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-30-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-30-10">10</a></span>
<span class="normal"><a href="#__codelineno-30-11">11</a></span>
<span class="normal"><a href="#__codelineno-30-12">12</a></span>
<span class="normal"><a href="#__codelineno-30-13">13</a></span>
<span class="normal"><a href="#__codelineno-30-14">14</a></span>
<span class="normal"><a href="#__codelineno-30-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="c1"># Define the desired joint angles for the trajectory</span>
<a id="__codelineno-30-2" name="__codelineno-30-2"></a><span class="n">joint_angles</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-30-3" name="__codelineno-30-3"></a><span class="c1"># Calculate the flange pose for each joint angle</span>
<a id="__codelineno-30-4" name="__codelineno-30-4"></a><span class="n">flange_poses</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-30-5" name="__codelineno-30-5"></a><span class="k">for</span> <span class="n">angles</span> <span class="ow">in</span> <span class="n">joint_angles</span><span class="p">:</span>
<a id="__codelineno-30-6" name="__codelineno-30-6"></a>  <span class="n">flange_pose</span> <span class="o">=</span> <span class="n">get_forward_kin</span><span class="p">(</span><span class="n">angles</span><span class="p">)</span>
<a id="__codelineno-30-7" name="__codelineno-30-7"></a>  <span class="n">flange_poses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">flange_pose</span><span class="p">)</span>
<a id="__codelineno-30-8" name="__codelineno-30-8"></a><span class="hll">  <span class="c1"># Move the robot along the trajectory</span>
</span><a id="__codelineno-30-9" name="__codelineno-30-9"></a>  <span class="n">movej</span><span class="p">(</span><span class="n">joint_angles</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<a id="__codelineno-30-10" name="__codelineno-30-10"></a>  <span class="c1"># Verify the robot&#39;s final flange pose</span>
<a id="__codelineno-30-11" name="__codelineno-30-11"></a>  <span class="n">final_flange_pose</span> <span class="o">=</span> <span class="n">get_forward_kin</span><span class="p">()</span>
<a id="__codelineno-30-12" name="__codelineno-30-12"></a>  <span class="k">if</span> <span class="n">final_flange_pose</span> <span class="o">==</span> <span class="n">flange_poses</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
<a id="__codelineno-30-13" name="__codelineno-30-13"></a>    <span class="n">popup</span><span class="p">(</span><span class="s2">&quot;Robot reached final flange pose as expected.&quot;</span><span class="p">)</span>
<a id="__codelineno-30-14" name="__codelineno-30-14"></a>  <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-30-15" name="__codelineno-30-15"></a>    <span class="n">popup</span><span class="p">(</span><span class="s2">&quot;Robot&#39;s final flange pose deviated from the expected.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<p>Here is an example of how to use the get_forward_kin() function for trajectory planning in UR Script:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-31-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-31-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-31-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-31-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-31-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-31-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-31-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-31-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-31-10">10</a></span>
<span class="normal"><a href="#__codelineno-31-11">11</a></span>
<span class="normal"><a href="#__codelineno-31-12">12</a></span>
<span class="normal"><a href="#__codelineno-31-13">13</a></span>
<span class="normal"><a href="#__codelineno-31-14">14</a></span>
<span class="normal"><a href="#__codelineno-31-15">15</a></span>
<span class="normal"><a href="#__codelineno-31-16">16</a></span>
<span class="normal"><a href="#__codelineno-31-17">17</a></span>
<span class="normal"><a href="#__codelineno-31-18">18</a></span>
<span class="normal"><a href="#__codelineno-31-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="c1"># Define a target position and orientation for the end effector</span>
<a id="__codelineno-31-2" name="__codelineno-31-2"></a><span class="n">target_position</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<a id="__codelineno-31-3" name="__codelineno-31-3"></a><span class="n">target_orientation</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.7071</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.7071</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-31-4" name="__codelineno-31-4"></a><span class="c1"># Define an array to store the planned trajectory points</span>
<a id="__codelineno-31-5" name="__codelineno-31-5"></a><span class="n">trajectory_points</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-31-6" name="__codelineno-31-6"></a><span class="c1"># Define the number of steps for the trajectory</span>
<a id="__codelineno-31-7" name="__codelineno-31-7"></a><span class="n">num_steps</span> <span class="o">=</span> <span class="mi">50</span>
<a id="__codelineno-31-8" name="__codelineno-31-8"></a><span class="hll"><span class="c1"># Define the current and next joint angles for the robot</span>
</span><a id="__codelineno-31-9" name="__codelineno-31-9"></a><span class="n">current_joints</span> <span class="o">=</span> <span class="n">get_actual_joint_positions</span><span class="p">()</span>
<a id="__codelineno-31-10" name="__codelineno-31-10"></a><span class="n">next_joints</span> <span class="o">=</span> <span class="n">current_joints</span>
<a id="__codelineno-31-11" name="__codelineno-31-11"></a><span class="c1"># Plan the trajectory by incrementally moving the robot&#39;s joints towards the target position</span>
<a id="__codelineno-31-12" name="__codelineno-31-12"></a><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_steps</span><span class="p">):</span>
<a id="__codelineno-31-13" name="__codelineno-31-13"></a>  <span class="n">next_joints</span> <span class="o">=</span> <span class="p">[</span><span class="n">current_joints</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">target_position</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">current_joints</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">/</span><span class="n">num_steps</span> <span class="k">for</span> <span class="n">i</span> <span class="n">inrange</span><span class="p">(</span><span class="mi">6</span><span class="p">)]</span>
<a id="__codelineno-31-14" name="__codelineno-31-14"></a>  <span class="n">movej</span><span class="p">(</span><span class="n">next_joints</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<a id="__codelineno-31-15" name="__codelineno-31-15"></a>  <span class="c1"># Append the current flange position and orientation to the trajectory points array</span>
<a id="__codelineno-31-16" name="__codelineno-31-16"></a>  <span class="n">flange_pose</span> <span class="o">=</span> <span class="n">get_forward_kin</span><span class="p">(</span><span class="n">next_joints</span><span class="p">)</span>
<a id="__codelineno-31-17" name="__codelineno-31-17"></a>  <span class="n">trajectory_points</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">flange_pose</span><span class="p">)</span>
<a id="__codelineno-31-18" name="__codelineno-31-18"></a>  <span class="c1"># Print the planned trajectory points</span>
<a id="__codelineno-31-19" name="__codelineno-31-19"></a>  <span class="nb">print</span><span class="p">(</span><span class="n">trajectory_points</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>In this example, the program first defines a target position and orientation for the end effector. 
Next, it sets the current joint angles of the robot using the get_actual_joint_positions() function and the
next joint angles as a copy of the current joint angles. Then, the program plans the trajectory by
incrementally moving the robot's joints towards the target position over a specified number of steps.</p>
<p>At each step, it calls the movej() function to move the robot to the next joint angles, and it uses the
get_forward_kin() function to calculate the current flange position and orientation, which is then
appended to the trajectory_points array. Finally, the program prints the planned trajectory points.
This example shows how to use the get_forward_kin() function in conjunction with the robot's
current joint angles and the movej() function to plan and execute a precise trajectory.</p>
<p>It is important to note that this example is just a simple example, and in real-world scenarios,
trajectory planning is a complex task that may involve sophisticated algorithms and techniques to
ensure the accuracy, safety and efficiency of the robot's movement.</p>
<p>Here's an example of how to use the get_forward_kin() function for position control in UR Script:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-32-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-32-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-32-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-32-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-32-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-32-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-32-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-32-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-32-10">10</a></span>
<span class="normal"><a href="#__codelineno-32-11">11</a></span>
<span class="normal"><a href="#__codelineno-32-12">12</a></span>
<span class="normal"><a href="#__codelineno-32-13">13</a></span>
<span class="normal"><a href="#__codelineno-32-14">14</a></span>
<span class="normal"><a href="#__codelineno-32-15">15</a></span>
<span class="normal"><a href="#__codelineno-32-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="c1"># Define the target flange position and orientation</span>
<a id="__codelineno-32-2" name="__codelineno-32-2"></a><span class="n">target_pos</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">]</span> <span class="c1"># x, y, z</span>
<a id="__codelineno-32-3" name="__codelineno-32-3"></a><span class="n">target_rot</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.57</span><span class="p">]</span> <span class="c1"># roll, pitch, yaw</span>
<a id="__codelineno-32-4" name="__codelineno-32-4"></a><span class="c1"># Continuously check the robot&#39;s current flange position and orientation</span>
<a id="__codelineno-32-5" name="__codelineno-32-5"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-32-6" name="__codelineno-32-6"></a>  <span class="n">current_pos</span><span class="p">,</span> <span class="n">current_rot</span> <span class="o">=</span> <span class="n">get_forward_kin</span><span class="p">()</span>
<a id="__codelineno-32-7" name="__codelineno-32-7"></a>  <span class="c1"># Compare the current flange position and orientation to the target</span>
<a id="__codelineno-32-8" name="__codelineno-32-8"></a><span class="hll">  <span class="n">pos_error</span> <span class="o">=</span> <span class="p">[</span><span class="n">target_pos</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">current_pos</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
</span><a id="__codelineno-32-9" name="__codelineno-32-9"></a>  <span class="n">rot_error</span> <span class="o">=</span> <span class="p">[</span><span class="n">target_rot</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">current_rot</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
<a id="__codelineno-32-10" name="__codelineno-32-10"></a>  <span class="c1"># If the error is below a certain threshold, the robot has reached the target position</span>
<a id="__codelineno-32-11" name="__codelineno-32-11"></a>  <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.01</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">pos_error</span> <span class="o">+</span> <span class="n">rot_error</span><span class="p">):</span>
<a id="__codelineno-32-12" name="__codelineno-32-12"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Target position reached.&quot;</span><span class="p">)</span>
<a id="__codelineno-32-13" name="__codelineno-32-13"></a>    <span class="k">break</span>
<a id="__codelineno-32-14" name="__codelineno-32-14"></a>  <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-32-15" name="__codelineno-32-15"></a>    <span class="c1"># Move the robot to reduce the error</span>
<a id="__codelineno-32-16" name="__codelineno-32-16"></a>    <span class="n">move_to_target</span><span class="p">(</span><span class="n">pos_error</span><span class="p">,</span> <span class="n">rot_error</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h4 id="14110-get_inverse_kinx-qnear-maxpositionerror-1e-10maxorientationerror-1e-10tcpactive_tcp">14.1.10 get_inverse_kin(x, qnear, maxPositionError =1e-10,maxOrientationError =1e-10,tcp=’active_tcp’)</h4>
<p>What is Inverse Kinematics?</p>
<p>Inverse kinematics (IK) is a method used in robotics, computer graphics, and animation to find the
position and orientation of a robotic arm or a character's joints in order to reach a specific target or
goal. It is the inverse of forward kinematics, which calculates the end effector's position and
orientation based on the joints' angles. Inverse kinematics is used to calculate the angles of the
joints required to reach a desired position, which allows for more natural and realistic motion.</p>
<p>Inverse kinematics (IK) and forward kinematics (FK) are two methods used in robotics and
animation to calculate the position and orientation of a robotic arm or a character's joints.
Inverse kinematics (IK) is used to find the angles of the joints required to reach a desired position
and orientation of the end effector (e.g. the robotic arm's gripper or the character's hand). It is used
to calculate the motion of the joints that will result in a specific movement of the end effector.</p>
<p>On the other hand, forward kinematics (FK) is used to find the position and orientation of the end
effector based on the angles of the joints. It is used to calculate the position of the end effector based
on the known angles of the joints, and it is the inverse of the inverse kinematics.
In summary, Inverse kinematics is used to calculate the angles of the joints required to reach a
desired position and orientation, while forward kinematics is used to calculate the position and
orientation of the end effector based on the joints' angles.</p>
<p>Inverse kinematics (IK) and forward kinematics (FK) are used in robotic arm control for different
purposes and under different circumstances.</p>
<p>Inverse kinematics (IK) is used when the goal is to reach a specific target position and orientation of
the end effector, such as a robotic arm's gripper or a character's hand. This method calculates the
angles of the joints required to reach the desired position and orientation, allowing for natural and
realistic motion. IK is typically used when the robotic arm needs to interact with the environment or
perform tasks that require precise positioning, such as grasping or welding.</p>
<p>On the other hand, forward kinematics (FK) is used when the goal is to determine the position and
orientation of the end effector based on the angles of the joints. This method can be used to simulate
the movement of the robotic arm, to check for collisions with other objects, or to visualize the
robotic arm's motion for debugging purposes.</p>
<p>In summary, Inverse kinematics is used when the goal is to reach a specific position and orientation,
while forward kinematics is used to determine the position and orientation of the end effector based
on the angles of the joints and can be used for simulations, collision detection, and visualization.
Universal Robots (UR) is a popular brand of collaborative robots that uses inverse kinematics (IK)
to control the movement of its robotic arms. </p>
<p>The specific method used by UR to calculate inverse
kinematics may vary depending on the specific model and version of the robot. However, in 
general, the following steps are commonly used:</p>
<p>The robot arm's forward kinematics are defined and modeled using a Denavit-Hartenberg (DH)
representation or another method. This allows the robot to calculate the position and orientation of
the end effector based on the angles of the joints.
The target position and orientation of the end effector are received as input from the user or from a
program.</p>
<p>The robot uses the inverse of the forward kinematics to calculate the angles of the joints required to
reach the target position and orientation. This is typically done using an iterative algorithm, such as
the Newton-Raphson method, which starts with an initial guess of the joint angles and then
repeatedly adjusts them until the end effector reaches the target position and orientation within a
certain tolerance.</p>
<p>Once the inverse kinematics solution is found, the robot sends commands to the motors to move the
joints to the calculated angles.
It's worth noting that some of the UR robots use the Modified DH representation which is a
variation of the DH representation, and it's a bit more efficient than the traditional DH
representation.</p>
<p>In summary, Universal Robots (UR) uses inverse kinematics (IK) to calculate the angles of the
joints required to reach a specific target position and orientation of the end effector. This is done by
using the inverse of the forward kinematics and iterative methods such as the Newton-Raphson
method.</p>
<p>Calculate the inverse kinematic transformation (tool space -&gt; joint space). If qnear is defined, the
solution closest to qnear is returned.
Otherwise, the solution closest to the current joint positions is returned. If no tcp is provided the
currently active tcp of the controller is used.
Parameters</p>
<p><strong><em>x:</em></strong> tool pose</p>
<p><strong><em>qnear:</em></strong> list of joint positions (Optional)</p>
<p><strong><em>maxPositionError:</em></strong> the maximum allowed position error (Optional)</p>
<p><strong><em>tcp:</em></strong> tcp offset pose (Optional)</p>
<p><strong>Return Value</strong></p>
<p>joint positions</p>
<p><strong><em>Example command:</em></strong> <code>get_inverse_kin(p[.1,.2,.2,0,3.14,0], [0.,3.14,1.57,.785,0,0])</code></p>
<p><strong><em>Example Parameters:</em></strong></p>
<ul>
<li>
<p>x = p[.1,.2,.2,0,3.14,0] -&gt; pose with position of x=100mm, y=200mm, z=200mm and</p>
</li>
<li>
<p>rotation vector of rx=0 deg., ry=180 deg, rz=0 deg.</p>
</li>
<li>
<p>qnear = [0.,3.14,1.57,.785,0,0] -&gt; solution should be near to joint angles of j0=0 deg.</p>
</li>
<li>
<p>j1=180 deg, j2=90 deg, j3=45 deg, j4=0 deg, j5=0 deg.</p>
</li>
<li>
<p>maxPositionError is by default 1e-10 m</p>
</li>
<li>
<p>maxOrientationError is by default 1e-10 rad</p>
</li>
</ul>
<h4 id="14111-get_inverse_kin_has_solutionpose-qnear-maxpositionerror1e-10maxorientationerror1e-10-tcpactive_tcp">14.1.11 get_inverse_kin_has_solution(pose, qnear, maxPositionError=1E-10,maxOrientationError=1e-10, tcp="active_tcp")</h4>
<p>Check if get_inverse_kin has a solution and return boolean (True) or (False).
This can be used to avoid the runtime exception of get_inverse_kin when no solution exists.</p>
<p><strong>Parameters</strong></p>
<p><strong><em>pose:</em></strong> tool pose</p>
<p><strong><em>qnear:</em></strong> list of joint positions (Optional)</p>
<p><strong><em>maxPositionError:</em></strong> the maximum allowed position error (Optional)</p>
<p><strong><em>maxOrientationError:</em></strong> the maximum allowed orientation error (Optional)</p>
<p><strong><em>tcp:</em></strong> tcp offset pose (Optional)</p>
<p><strong>Return Value</strong></p>
<p>True if <code>get_inverse_kin has a solution</code>, False otherwise (bool)
The <code>get_inverse_kin_has_solution()</code> function in URScript is a variation of the <code>get_inverse_kin()</code>
function, which is used to check if a given pose (position and orientation) of the end effector is
reachable by the robotic arm, and whether it has a solution within a given tolerance.
Here are some examples of the use cases of the <code>et_inverse_kin_has_solution()</code> function in
URScript:</p>
<ul>
<li>
<p>Reachability check: The function can be used to check if a specific target position and
  orientation is reachable by the robotic arm without hitting any obstacles or reaching any
  limits.</p>
</li>
<li>
<p>Redundant solutions: If a robotic arm has more than one solution for a specific target
  position and orientation, this function can be used to check for redundant solutions.</p>
</li>
<li>
<p>Error handling: The function can be used to check if there is an error in the robotic arm's
  position or orientation or if the desired position and orientation is not reachable.</p>
</li>
<li>
<p>Tolerance check: The function allows to set a tolerance for position and orientation error,
  which can be used to check if the robotic arm is able to reach the target position and
  orientation within the desired precision.</p>
</li>
<li>
<p>Tcp selection: The function allows to specify the tcp (tool center point) to be used for the
  inverse kinematics calculation, which can be useful for different types of end-effectors.
  These are some examples of use cases of the get_inverse_kin_has_solution() function in URScript,
  but it can be used in many other applications where inverse kinematics is needed and there is a need
  to check for a solution within a given tolerance.</p>
</li>
</ul>
<p><strong>Reachability check:</strong>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-33-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-33-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-33-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-33-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-33-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-33-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-33-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-33-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-33-10">10</a></span>
<span class="normal"><a href="#__codelineno-33-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="n">pose</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-33-2" name="__codelineno-33-2"></a>
<a id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="n">qnear</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-33-4" name="__codelineno-33-4"></a>
<a id="__codelineno-33-5" name="__codelineno-33-5"></a><span class="n">maxPositionError</span> <span class="o">=</span> <span class="mf">1E-10</span>
<a id="__codelineno-33-6" name="__codelineno-33-6"></a><span class="n">maxOrientationError</span> <span class="o">=</span> <span class="mf">1e-10</span>
<a id="__codelineno-33-7" name="__codelineno-33-7"></a><span class="n">tcp</span> <span class="o">=</span> <span class="s2">&quot;active_tcp&quot;</span>
<a id="__codelineno-33-8" name="__codelineno-33-8"></a><span class="hll"><span class="k">if</span> <span class="n">get_inverse_kin_has_solution</span><span class="p">(</span><span class="n">pose</span><span class="p">,</span> <span class="n">qnear</span><span class="p">,</span> <span class="n">maxPositionError</span><span class="p">,</span> <span class="n">maxOrientationError</span><span class="p">,</span> <span class="n">tcp</span><span class="p">):</span>
</span><a id="__codelineno-33-9" name="__codelineno-33-9"></a>  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The desired pose is reachable.&quot;</span><span class="p">)</span>
<a id="__codelineno-33-10" name="__codelineno-33-10"></a><span class="k">else</span><span class="p">:</span>
<a id="__codelineno-33-11" name="__codelineno-33-11"></a>  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The desired pose is not reachable.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
Path planning: In this example, a robotic arm is required to follow a specific path while avoiding
obstacles. The get_inverse_kin_has_solution() function can be used to check if the robotic arm can
reach each point along the path without hitting any obstacles.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1">1</a></span>
<span class="normal"><a href="#__codelineno-34-2">2</a></span>
<span class="normal"><a href="#__codelineno-34-3">3</a></span>
<span class="normal"><a href="#__codelineno-34-4">4</a></span>
<span class="normal"><a href="#__codelineno-34-5">5</a></span>
<span class="normal"><a href="#__codelineno-34-6">6</a></span>
<span class="normal"><a href="#__codelineno-34-7">7</a></span>
<span class="normal"><a href="#__codelineno-34-8">8</a></span>
<span class="normal"><a href="#__codelineno-34-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1"></a><span class="n">path</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<a id="__codelineno-34-2" name="__codelineno-34-2"></a><span class="k">for</span> <span class="n">pose</span> <span class="ow">in</span> <span class="n">path</span><span class="p">:</span>
<a id="__codelineno-34-3" name="__codelineno-34-3"></a><span class="c1"># Check if the target pose is reachable without hitting obstacles</span>
<a id="__codelineno-34-4" name="__codelineno-34-4"></a>
<a id="__codelineno-34-5" name="__codelineno-34-5"></a><span class="k">if</span> <span class="n">get_inverse_kin_has_solution</span><span class="p">(</span><span class="n">pose</span><span class="p">,</span><span class="n">get_actual_tcp_pose</span><span class="p">()):</span>
<a id="__codelineno-34-6" name="__codelineno-34-6"></a><span class="c1"># Move the robotic arm to the target pose</span>
<a id="__codelineno-34-7" name="__codelineno-34-7"></a>  <span class="n">movej</span><span class="p">(</span><span class="n">pose</span><span class="p">)</span>
<a id="__codelineno-34-8" name="__codelineno-34-8"></a><span class="hll"><span class="k">else</span><span class="p">:</span>
</span><a id="__codelineno-34-9" name="__codelineno-34-9"></a>  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Target pose is not reachable without hitting obstacles&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h4 id="14112-get_joint_tempj">14.1.12 get_joint_temp(j)</h4>
<p>Returns the temperature of joint j</p>
<p>The temperature of the joint house of joint j, counting from zero. j=0 is the base joint, and j=5 is
the last joint before the tool flange.</p>
<p><strong>Parameters</strong></p>
<p>j: The joint number (int)
Return Value
A temperature in degrees Celcius (float)</p>
<h4 id="14113-get_joint_torques">14.1.13 get_joint_torques()</h4>
<p>Returns the torques of all joints
The torque on the joints, corrected by the torque needed to move the robot itself (gravity, friction,
etc.), returned as a vector of length 6.</p>
<p><strong>Return Value</strong></p>
<p>The joint torque vector in Nm: [Base, Shoulder, Elbow, Wrist1, Wrist2, Wrist3]</p>
<p>Get the current torque values of the joints
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1">1</a></span>
<span class="normal"><a href="#__codelineno-35-2">2</a></span>
<span class="normal"><a href="#__codelineno-35-3">3</a></span>
<span class="normal"><a href="#__codelineno-35-4">4</a></span>
<span class="normal"><a href="#__codelineno-35-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="n">torques</span> <span class="o">=</span> <span class="n">get_joint_torques</span><span class="p">()</span>
<a id="__codelineno-35-2" name="__codelineno-35-2"></a>
<a id="__codelineno-35-3" name="__codelineno-35-3"></a><span class="n">Print</span> <span class="n">the</span> <span class="n">torque</span> <span class="n">values</span> <span class="k">for</span> <span class="n">each</span> <span class="n">joint</span>
<a id="__codelineno-35-4" name="__codelineno-35-4"></a><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">torques</span><span class="p">)):</span>
<a id="__codelineno-35-5" name="__codelineno-35-5"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Joint&quot;</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;torque:&quot;</span><span class="p">,</span> <span class="n">torques</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</code></pre></div></td></tr></table></div></p>
<p>The get_joint_torques() function in URScript is used to get the torque values of the joints of a UR
robotic arm. This function can be useful in various applications such as:</p>
<ul>
<li>
<p>Monitoring the robotic arm's performance: The torque values can be used to monitor the
  robotic arm's performance and detect any potential issues or malfunctions.</p>
</li>
<li>
<p>Identifying the cause of errors: The torque values can be used to identify the cause of errors,
  such as when the arm is unable to move to a specific position or when it experiences a
  sudden stop.</p>
</li>
<li>
<p>Controlling the robotic arm: The torque values can be used to control the robotic arm, by
  providing feedback to the controller and adjusting the control parameters accordingly.</p>
</li>
<li>
<p>Safety: The torque values can be used to ensure the safety of the robotic arm and its
  environment, by detecting and preventing unsafe conditions.</p>
</li>
<li>
<p>Predictive maintenance: The torque values can be used for predictive maintenance, by
  monitoring the wear and tear of the robotic arm's joints and scheduling maintenance before
  any critical failures occur.</p>
</li>
<li>
<p>Adaptive control: The torque values can be used for adaptive control, by continuously
  monitoring the robotic arm's torque and adjusting the control parameters accordingly to
  improve the robotic arm's performance.</p>
</li>
</ul>
<p>Monitoring the robotic arm's performance: 
In this example, the torque values of the robotic arm's joints are read and printed to the console every second.</p>
<p><div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-36-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-36-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-36-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-36-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-36-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-36-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-36-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-36-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-36-10">10</a></span>
<span class="normal"><a href="#__codelineno-36-11">11</a></span>
<span class="normal"><a href="#__codelineno-36-12">12</a></span>
<span class="normal"><a href="#__codelineno-36-13">13</a></span>
<span class="normal"><a href="#__codelineno-36-14">14</a></span>
<span class="normal"><a href="#__codelineno-36-15">15</a></span>
<span class="normal"><a href="#__codelineno-36-16">16</a></span>
<span class="normal"><a href="#__codelineno-36-17">17</a></span>
<span class="normal"><a href="#__codelineno-36-18">18</a></span>
<span class="normal"><a href="#__codelineno-36-19">19</a></span>
<span class="normal"><a href="#__codelineno-36-20">20</a></span>
<span class="normal"><a href="#__codelineno-36-21">21</a></span>
<span class="normal"><a href="#__codelineno-36-22">22</a></span>
<span class="normal"><a href="#__codelineno-36-23">23</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-36-2" name="__codelineno-36-2"></a><span class="n">torques</span> <span class="o">=</span> <span class="n">get_joint_torques</span><span class="p">()</span>
<a id="__codelineno-36-3" name="__codelineno-36-3"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Joint torques: &quot;</span><span class="p">,</span> <span class="n">torques</span><span class="p">)</span>
<a id="__codelineno-36-4" name="__codelineno-36-4"></a><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-36-5" name="__codelineno-36-5"></a><span class="n">Identifying</span> <span class="n">the</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">errors</span><span class="p">:</span> <span class="n">In</span> <span class="n">this</span> <span class="n">example</span><span class="p">,</span> <span class="n">the</span> <span class="n">torque</span> <span class="n">values</span> <span class="n">of</span> <span class="n">the</span> <span class="n">robotic</span> <span class="n">arm</span><span class="s1">&#39;s joints are read</span>
<a id="__codelineno-36-6" name="__codelineno-36-6"></a><span class="ow">and</span> <span class="n">compared</span> <span class="n">to</span> <span class="n">a</span> <span class="n">threshold</span> <span class="n">value</span><span class="o">.</span> <span class="n">If</span> <span class="n">the</span> <span class="n">torque</span> <span class="n">exceeds</span> <span class="n">the</span> <span class="n">threshold</span><span class="p">,</span> <span class="n">an</span> <span class="n">error</span> <span class="n">message</span> <span class="ow">is</span> <span class="n">printed</span><span class="o">.</span>
<a id="__codelineno-36-7" name="__codelineno-36-7"></a><span class="n">threshold</span> <span class="o">=</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">]</span>
<a id="__codelineno-36-8" name="__codelineno-36-8"></a><span class="hll"><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><a id="__codelineno-36-9" name="__codelineno-36-9"></a><span class="n">torques</span> <span class="o">=</span> <span class="n">get_joint_torques</span><span class="p">()</span>
<a id="__codelineno-36-10" name="__codelineno-36-10"></a><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
<a id="__codelineno-36-11" name="__codelineno-36-11"></a><span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">torques</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&gt;</span> <span class="n">threshold</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-36-12" name="__codelineno-36-12"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: Joint&quot;</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;has exceeded the torque threshold&quot;</span><span class="p">)</span>
<a id="__codelineno-36-13" name="__codelineno-36-13"></a><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-36-14" name="__codelineno-36-14"></a><span class="n">Controlling</span> <span class="n">the</span> <span class="n">robotic</span> <span class="n">arm</span><span class="p">:</span> <span class="n">In</span> <span class="n">this</span> <span class="n">example</span><span class="p">,</span> <span class="n">the</span> <span class="n">torque</span> <span class="n">values</span> <span class="n">of</span> <span class="n">the</span> <span class="n">robotic</span> <span class="n">arm</span><span class="s1">&#39;s joints are read</span>
<a id="__codelineno-36-15" name="__codelineno-36-15"></a><span class="ow">and</span> <span class="n">used</span> <span class="n">to</span> <span class="n">adjust</span> <span class="n">the</span> <span class="n">control</span> <span class="n">parameters</span><span class="o">.</span>
<a id="__codelineno-36-16" name="__codelineno-36-16"></a><span class="mf">5.12</span><span class="n">UR</span> <span class="n">Script</span> <span class="n">Usage</span> <span class="n">Page</span><span class="p">:</span> <span class="mi">103</span><span class="o">/</span><span class="mi">169</span>
<a id="__codelineno-36-17" name="__codelineno-36-17"></a><span class="n">Kp</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]</span>
<a id="__codelineno-36-18" name="__codelineno-36-18"></a><span class="n">Ki</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">]</span>
<a id="__codelineno-36-19" name="__codelineno-36-19"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-36-20" name="__codelineno-36-20"></a><span class="n">torques</span> <span class="o">=</span> <span class="n">get_joint_torques</span><span class="p">()</span>
<a id="__codelineno-36-21" name="__codelineno-36-21"></a><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
<a id="__codelineno-36-22" name="__codelineno-36-22"></a><span class="n">control_parameter</span> <span class="o">=</span> <span class="n">Kp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">torques</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">Ki</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">integral_error</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a id="__codelineno-36-23" name="__codelineno-36-23"></a><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<strong>Safety:</strong>
  In this example, the torque values of the robotic arm's joints are read and compared to a
threshold value. If the torque exceeds the threshold, the robotic arm is stopped to prevent any unsafe
conditions.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-1">1</a></span>
<span class="normal"><a href="#__codelineno-37-2">2</a></span>
<span class="normal"><a href="#__codelineno-37-3">3</a></span>
<span class="normal"><a href="#__codelineno-37-4">4</a></span>
<span class="normal"><a href="#__codelineno-37-5">5</a></span>
<span class="normal"><a href="#__codelineno-37-6">6</a></span>
<span class="normal"><a href="#__codelineno-37-7">7</a></span>
<span class="normal"><a href="#__codelineno-37-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1"></a><span class="n">threshold</span> <span class="o">=</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">]</span>
<a id="__codelineno-37-2" name="__codelineno-37-2"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-37-3" name="__codelineno-37-3"></a><span class="n">torques</span> <span class="o">=</span> <span class="n">get_joint_torques</span><span class="p">()</span>
<a id="__codelineno-37-4" name="__codelineno-37-4"></a><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
<a id="__codelineno-37-5" name="__codelineno-37-5"></a><span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">torques</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&gt;</span> <span class="n">threshold</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-37-6" name="__codelineno-37-6"></a><span class="n">stopj</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-37-7" name="__codelineno-37-7"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Robotic arm stopped due to high torque on joint&quot;</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-37-8" name="__codelineno-37-8"></a><span class="hll"><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
<p><strong>Predictive maintenance:</strong>
 In this example, the torque values of the robotic arm's joints are read and
logged to a file. The data is analyzed to detect any patterns or trends that may indicate wear and tear
on the joints, so maintenance can be scheduled before any critical failures occur.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-38-1">1</a></span>
<span class="normal"><a href="#__codelineno-38-2">2</a></span>
<span class="normal"><a href="#__codelineno-38-3">3</a></span>
<span class="normal"><a href="#__codelineno-38-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-38-2" name="__codelineno-38-2"></a>  <span class="n">torques</span> <span class="o">=</span> <span class="n">get_joint_torques</span><span class="p">()</span>
<a id="__codelineno-38-3" name="__codelineno-38-3"></a>  <span class="n">textmsg</span><span class="p">(</span><span class="s2">&quot;torques:&quot;</span><span class="p">,</span> <span class="n">torques</span><span class="p">)</span>
<a id="__codelineno-38-4" name="__codelineno-38-4"></a>  <span class="n">sleep</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h4 id="14114-get_steptime">14.1.14 get_steptime()</h4>
<p>Returns the duration of the robot time step in seconds.
In every time step, the robot controller will receive measured joint positions and velocities from
the robot, and send desired joint positions and velocities back to the robot. This happens with a
predetermined frequency, in regular intervals. This interval length is the robot time step.</p>
<p><strong>Return Value</strong></p>
<p>duration of the robot step in seconds
The get_steptime() function in URScript is used to get the current steptime value of a UR robotic
arm. The steptime is the time it takes for the robotic arm to execute one control cycle. It is typically
set as the time it takes for the control system to receive new sensor data, process it, and produce
new control signals to the motors. A lower steptime value means that the control system is running
at a faster rate and can respond more quickly to changes in the environment, but it also requires
more computational resources.</p>
<h4 id="14115-get_target_joint_positions">14.1.15 get_target_joint_positions()</h4>
<p>In UR Script, get_joint_position() and get_target_joint_position() are both used to retrieve the
current or target joint positions of a UR robot, but they return slightly different information.
get_joint_position() returns the current joint positions of the robot, which are the positions that the
robot is currently at. These positions are measured by the robot's encoders and updated at a high
frequency (typically several times per second).</p>
<p>get_target_joint_position() returns the target joint positions of the robot, which are the positions that
the robot is currently moving towards. These positions are typically set by a higher-level controller
or program, and may be different from the current joint positions if the robot is in motion.
In short, get_joint_position() gives you the current position of the robot, while
get_target_joint_position() gives you the position that the robot is moving towards.</p>
<p>In UR Script, the get_target_joint_positions() function is used to retrieve the target joint positions of
a UR robot. This can be useful in a variety of ways, such as:</p>
<ul>
<li>
<p>Monitoring the robot's motion: By periodically reading the target joint positions, a program can
  track the robot's motion and ensure that it is moving as expected.</p>
</li>
<li>
<p>Trajectory tracking: By comparing the target joint positions to a desired trajectory, a program can
  implement closed-loop control to keep the robot on track.</p>
</li>
<li>
<p>Safety monitoring: By monitoring the target joint positions, a program can detect when the robot is
  about to reach a limit or a singularity, and take appropriate action to prevent damage or injury.</p>
</li>
<li>
<p>Debugging: By reading the target joint positions, a program can diagnose problems with the robot's
  motion, and help identify the cause of errors or unexpected behavior.</p>
</li>
</ul>
<p><div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">sample.urscript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-39-1">1</a></span>
<span class="normal"><a href="#__codelineno-39-2">2</a></span>
<span class="normal"><a href="#__codelineno-39-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="n">movej</span><span class="p">([</span><span class="mf">1.57</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.57</span><span class="p">,</span> <span class="mf">1.57</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.57</span><span class="p">,</span> <span class="mf">1.57</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">a</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="mf">1.05</span><span class="p">)</span>
<a id="__codelineno-39-2" name="__codelineno-39-2"></a><span class="n">joint_target_positions</span> <span class="o">=</span> <span class="n">get_target_joint_position</span><span class="p">()</span>
<a id="__codelineno-39-3" name="__codelineno-39-3"></a><span class="n">popup</span><span class="p">(</span><span class="n">joint_target_positions</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
This will move the robot to the target joint positions [1.57, -1.57, 1.57, -1.57, 1.57, 0] with an
acceleration of 1.2 and a velocity of 1.05, and then retrieve the target joint positions and print them
to the console.</p>
<p>It is important to note that these examples are simplified and in real-world scenarios, you would
need to handle error cases, check if the robot is safe to move and check if the robot has reach the
target positions before retrieving the target positions.</p>
<h4 id="14116-get_target_joint_speeds">14.1.16 get_target_joint_speeds()</h4>
<p>Returns the desired angular velocities of all joints
The angular target velocities are expressed in radians pr. second and returned as a vector of
length 6. Note that the output might differ from the output of get_actual_joint_speeds(),
especially during acceleration and heavy loads.</p>
<p>Return Value</p>
<p>The current target joint angular velocity vector in rad/s: [Base, Shoulder, Elbow, Wrist1, Wrist2,
Wrist3]</p>
<h4 id="14117-get_target_payload">14.1.17 get_target_payload()</h4>
<p>Returns the weight of the active payload
Return Value
The weight of the current payload in kilograms</p>
<h4 id="14118-get_target_payload_cog">14.1.18 get_target_payload_cog()</h4>
<p>Retrieve the Center Of Gravity (COG) coordinates of the active payload.
This scripts returns the COG coordinates of the active payload, with respect to the tool flange
Return Value</p>
<p>The 3d coordinates of the COG [CoGx, CoGy, CoGz] in meters</p>
<p>In UR Script, the get_target_payload_cog() function is used to retrieve the target
payload center of gravity (CoG) of a UR robot. The payload is the object that the robot is carrying
or manipulating. The CoG is the point in the object where its weight is evenly distributed.</p>
<p>Here are some possible use cases for get_target_payload_cog():</p>
<ol>
<li>
<p>Inverse Kinematics: The target payload CoG can be used as an input for the inverse
  kinematics algorithm to calculate the required target joint positions for the robot to reach a
  certain position of the object.</p>
</li>
<li>
<p>Collision Detection: By monitoring the target payload CoG, a program can detect when the
  robot is about to collide with an obstacle or another object, and take appropriate action to
  avoid the collision.</p>
</li>
<li>
<p>Dynamic Balancing: By monitoring the target payload CoG, a program can implement
  dynamic balancing control to keep the object stable while it is being manipulated.</p>
</li>
<li>
<p>Force Control: By monitoring the target payload CoG, a program can implement force
  control to apply a force to a specific point on the object.</p>
</li>
<li>
<p>Debugging: By reading the target payload CoG, a program can diagnose problems with the
  robot's motion, and help identify the cause of errors or unexpected behavior.
  It is important to note that in order to use this function, you need to have an accurate payload
  model, as well as the mass and the offset of the payload with respect to the robot flange.</p>
</li>
</ol>
<p>Dynamic balancing is a control strategy used to keep an object stable while it is being manipulated
by a robot. The key idea behind dynamic balancing is to continuously adjust the robot's motion to
counterbalance the forces acting on the object, such as gravity, friction, and external disturbances.</p>
<p>To achieve dynamic balancing, the robot must have accurate information about the object's center
of gravity (CoG) and mass. This information can be obtained using a sensor, such as a load cell, or
by measuring the object's dimensions and calculating its CoG.</p>
<p>Once the object's CoG and mass are known, the robot can use this information to calculate the
forces acting on the object. The robot can then adjust its motion in real-time to counterbalance
these forces and keep the object stable.</p>
<p>For example, if the CoG of the object is located at the center, the robot can move the object in such
a way that the CoG always remains at the same point, effectively canceling out the effect of
gravity. In contrast, if the CoG is offset, the robot needs to compensate for that offset.
Dynamic balancing is particularly useful in tasks where the robot needs to manipulate objects with
varying shapes and sizes, or in environments with disturbances that could affect the stability of the
object.</p>
<p>It's worth noting that dynamic balancing is a complex task that requires precise control of the
robot's motion and a good understanding of the physics of the problem. It is also important to have
a good estimate of the object's mass and CoG which is why measuring them accurately is
important.</p>
<p>A load cell is a transducer, or sensor, that converts a force applied to it into an electrical signal.
Load cells are commonly used in industrial, research, and medical applications to measure weight,
force, or pressure. They are typically used in conjunction with a scale, force gauge, or other
measuring device to provide an accurate measurement of the applied force.</p>
<p>There are many different types of load cells available, each designed to measure specific types of
forces and/or in specific environments. Some common types of load cells include:</p>
<ul>
<li>
<p>Beam load cells: These load cells are designed to measure compression or tension forces.
  They consist of a small beam that deflects under load, and strain gauges that are attached to
  the beam to measure the deflection.</p>
</li>
<li>
<p>S-type load cells: These load cells are also designed to measure compression or tension
  forces, but they have a slightly different design than beam load cells. They consist of a bent
  metal rod or "S" shape that deflects under load, and strain gauges that are attached to the
  rod to measure the deflection.</p>
</li>
<li>
<p>Single-point load cells: These load cells are designed to measure compression forces only.
  They consist of a single point of contact between the load and the sensor.</p>
</li>
<li>
<p>Compression load cells: These load cells are designed to measure compression forces only.
  They are often used in industrial and medical applications to measure the weight of an
  object.</p>
</li>
<li>
<p>Tension load cells: These load cells are designed to measure tension forces only. They are
  often used in industrial and research applications to measure the force of a pulling or
  stretching action.</p>
</li>
<li>
<p>Canister load cells: These load cells are designed to measure both compression and tension
  forces. They are often used in industrial and research applications to measure the force of
  both pushing and pulling actions.</p>
</li>
</ul>
<p>It's worth noting that load cells are also available in different capacities, ranges and environments
such as waterproof, high temperature, and high accuracy.</p>
<p>In summary, load cells are devices that convert a force into an electrical signal, allowing for
accurate measurement of weight, force, or pressure. Different types of load cells are available for
specific types of forces and environments.</p>
<p>Universal Robots (UR) robots use a six-axis force-torque sensor (FTS) that is mounted at the
flange of the robot. This sensor measures the forces and torques acting on the robot in all six
degrees of freedom (x, y, z, roll, pitch, yaw).</p>
<p>The FTS used by UR robots is a type of load cell known as a "multi-axis load cell" or "force-
torque sensor" which is designed to measure forces and torques in multiple directions. It is an
integrated sensor, which means it directly interfaces with the robot's control system, providing
real-time data for the robot's control algorithm.</p>
<p>The FTS used by UR robots typically uses a combination of strain gauges and accelerometers to
measure forces and torques. The strain gauges are used to measure the bending or deflection of the
sensor's structure, while the accelerometers are used to measure the linear and angular acceleration
of the sensor.</p>
<p>The data from the FTS is used by the robot's internal controller to calculate the required torques to
counterbalance the payload's weight and keep it stable during the motion, as well as to perform
advanced motion control such as force control and impedance control.</p>
<p>In summary, Universal Robots use a six-axis force-torque sensor (FTS) that is mounted at the
flange of the robot. This sensor is a type of multi-axis load cell that uses a combination of strain
gauges and accelerometers to measure forces and torques in multiple directions. This sensor can be
used to measure forces and torques acting on the payload and also to perform advanced motion
control methods.</p>
<h4 id="14119-get_target_payload_inertia">14.1.19 get_target_payload_inertia()</h4>
<p>Returns the most recently set payload inertia matrix.
This script function returns the inertia matrix of the active payload in tool flange coordinates, with
origin at the CoG.</p>
<p><strong>Return Value</strong></p>
<p>The six dimensional coordinates of the payload inertia matrix [Ixx, Iyy, Izz, Ixy, Ixz, Iyz]
expressed in kg*m^2.</p>
<p>Inertia is a measure of an object's resistance to changes in its motion. It is a fundamental concept in
physics that describes how an object will tend to remain at rest or in motion with a constant velocity
unless acted upon by an external force.</p>
<p>Inertia is determined by an object's mass. The greater an object's mass, the greater its inertia. Inertia
can be thought of as an object's "mass-related resistance to motion."
There are two types of inertia: linear and angular.</p>
<ul>
<li>
<p>Linear inertia is the resistance of an object to changes in its linear motion, such as
  acceleration or deceleration. This can be thought of as an object's resistance to changes in its
  velocity.</p>
</li>
<li>
<p>Angular inertia is the resistance of an object to changes in its angular motion, such as
  rotation or angular acceleration. This can be thought of as an object's resistance to changes
  in its angular velocity.
  It's worth noting that the inertia of an object not only depends on its mass but also its shape and
  orientation. An object with the same mass can have different inertia depending on how its mass is
  distributed.</p>
</li>
</ul>
<p>In summary, Inertia is a measure of an object's resistance to changes in its motion. Linear inertia is
the resistance of an object to changes in its linear motion and angular inertia is the resistance of an
object to changes in its angular motion. Inertia depends on mass, shape, and orientation of an object.</p>
<h1 id="the-rest-of-the-function-explanations-are-to-be-added">The rest of the function explanations are to be added!</h1>
<h4 id="14120-get_target_tcp_pose">14.1.20 get_target_tcp_pose()</h4>
<h4 id="14121-get_target_tcp_speed">14.1.21 get_target_tcp_speed()</h4>
<h4 id="14122-get_target_waypoint">14.1.22 get_target_waypoint()</h4>
<h4 id="14123-get_tcp_force">14.1.23 get_tcp_force()</h4>
<h4 id="14124-get_tcp_offset">14.1.24 get_tcp_offset()</h4>
<h4 id="14125-get_tool_accelerometer_reading">14.1.25 get_tool_accelerometer_reading()</h4>
<h4 id="14126-get_tool_current">14.1.26 get_tool_current()</h4>
<h4 id="14127-is_steady">14.1.27 is_steady()</h4>
<h4 id="14128-is_within_safety_limitspose-qnear">14.1.28 is_within_safety_limits(pose, qnear)</h4>
<h4 id="14129-popups-titlepopup-warningfalse-errorfalse-blockingfalse">14.1.29 popup(s, title=’Popup’, warning=False, error=False, blocking=False)</h4>
<h4 id="14130-powerdown">14.1.30 powerdown()</h4>
<h4 id="14131-set_gravityd">14.1.31 set_gravity(d)</h4>
<h4 id="14132-set_payloadm-cog">14.1.32 set_payload(m, cog)</h4>
<h4 id="14133-set_payload_cogcog">14.1.33 set_payload_cog(CoG)</h4>
<h4 id="14134-set_payload_massm">14.1.34 set_payload_mass(m)</h4>
<h4 id="14135-set_target_payloadm-cog-inertia0-0-0-0-0-0">14.1.35 set_target_payload(m, cog, inertia=[0, 0, 0, 0, 0, 0])</h4>
<h4 id="14136-set_tcppose">14.1.36 set_tcp(pose)</h4>
<h4 id="14137-sleept">14.1.37 sleep(t)</h4>
<h4 id="14138-str_atsrc-index">14.1.38 str_at(src, index)</h4>
<h4 id="14139-str_catop1-op2">14.1.39 str_cat(op1, op2)</h4>
<h4 id="14140-str_emptystr">14.1.40 str_empty(str)</h4>
<h4 id="14141-str_findsrc-target-start_from0">14.1.41 str_find(src, target, start_from=0)</h4>
<h4 id="14142-str_lenstr">14.1.42 str_len(str)</h4>
<h4 id="14143-str_subsrc-index-len">14.1.43 str_sub(src, index, len)</h4>
<h4 id="14144-sync">14.1.44 sync()</h4>
<h4 id="14145-textmsgs1-s2">14.1.45 textmsg(s1, s2=’’)</h4>
<h4 id="14146-to_numstr">14.1.46 to_num(str )</h4>
<h4 id="14147-to_strval">14.1.47 to_str(val)</h4>
<h4 id="14148-tool_contactdirection">14.1.48 tool_contact(direction)</h4>
<h4 id="14149-tool_contact_examples">14.1.49 tool_contact_examples()</h4>
<h2 id="15-module-urmath">15. Module urmath</h2>
<h3 id="151-functions">15.1. Functions</h3>
<h4 id="1511-acosf">15.1.1. acos(f )</h4>
<h4 id="1512-asinf">15.1.2. asin(f )</h4>
<h4 id="1513-tanf">15.1.3. tan(f )</h4>
<h4 id="1514-atan2x-y">15.1.4. atan2(x, y)</h4>
<h4 id="1515-binary_list_to_integerl">15.1.5. binary_list_to_integer(l)</h4>
<h4 id="1516-ceilf">15.1.6. ceil(f )</h4>
<h4 id="1517-cosf">15.1.7. cos(f )</h4>
<h4 id="1518-d2rd">15.1.8. d2r(d)</h4>
<h4 id="1519-loorf">15.1.9. loor(f )</h4>
<h4 id="15110-get_list_lengthv">15.1.10. get_list_length(v)</h4>
<h4 id="15111-nteger_to_binary_listx">15.1.11. nteger_to_binary_list(x)</h4>
<h4 id="15112-interpolate_posep_from-p_to-alpha">15.1.12. interpolate_pose(p_from, p_to, alpha)</h4>
<h4 id="15113-nvm">15.1.13. nv(m)</h4>
<h4 id="15114-engthv">15.1.14. ength(v)</h4>
<h4 id="15115-ogb-f">15.1.15. og(b, f )</h4>
<h4 id="15116-norma">15.1.16. norm(a)</h4>
<h4 id="15117-normalizev">15.1.17. normalize(v)</h4>
<h4 id="15118-point_distp_from-p_to">15.1.18. point_dist(p_from, p_to)</h4>
<h4 id="15119-pose_addp_1-p_2">15.1.19. pose_add(p_1, p_2)</h4>
<h4 id="15120-pose_invp_from">15.1.20. pose_inv(p_from)</h4>
<h4 id="15121-pose_subp_to-p_from">15.1.21. pose_sub(p_to, p_from)</h4>
<h4 id="15122-pose_transp_from-p_from_to">15.1.22. pose_trans(p_from, p_from_to)</h4>
<h4 id="15123-powbase-exponent">15.1.23. pow(base, exponent)</h4>
<h4 id="15124-2dr">15.1.24. 2d(r)</h4>
<h4 id="15125-random">15.1.25. random()</h4>
<h4 id="15126-otvec2rpyrotation_vector">15.1.26. otvec2rpy(rotation_vector)</h4>
<h4 id="15127-rpy2rotvecrpy_vector">15.1.27. rpy2rotvec(rpy_vector)</h4>
<h4 id="15128-sinf">15.1.28. sin(f )</h4>
<h4 id="15129-sizev">15.1.29. size(v)</h4>
<h4 id="15130-sqrtf">15.1.30. sqrt(f )</h4>
<h4 id="15131-tanf">15.1.31. tan(f)</h4>
<h4 id="15132-transposem">15.1.32. transpose(m)</h4>
<h4 id="15133-wrench_transt_from_to-w_from">15.1.33. wrench_trans(T_from_to, w_from)</h4>
<h2 id="16-module-interfaces">16. Module Interfaces</h2>
<h3 id="161-functions">16.1 Functions</h3>
<h4 id="1611-enable_external_ft_sensorenable-sensor_mass00-sensor_measuring_offset0000-00-sensor_cog00-00-00">16.1.1 enable_external_ft_sensor(enable, sensor_mass=0.0, sensor_measuring_offset=[0.0,0.0, 0.0], sensor_cog=[0.0, 0.0, 0.0])</h4>
<h3 id="1612-ft_rtde_input_enableenable-sensor_mass00-sensor_measuring_offset0000-00-sensor_cog00-00-00">16.1.2 ft_rtde_input_enable(enable, sensor_mass=0.0, sensor_measuring_offset=[0.0,0.0, 0.0], sensor_cog=[0.0, 0.0, 0.0])</h3>
<h4 id="1613-get_analog_inn">16.1.3 get_analog_in(n)</h4>
<h4 id="1614-get_analog_outn">16.1.4 get_analog_out(n)</h4>
<h4 id="1615-get_configurable_digital_inn">16.1.5 get_configurable_digital_in(n)</h4>
<h4 id="1616-get_configurable_digital_outn">16.1.6 get_configurable_digital_out(n)</h4>
<h4 id="1617-get_digital_inn">16.1.7 get_digital_in(n)</h4>
<h4 id="1618-get_digital_outn">16.1.8 get_digital_out(n)</h4>
<h4 id="1619-get_flagn">16.1.9 get_flag(n)</h4>
<h4 id="16110-get_standard_analog_inn">16.1.10 get_standard_analog_in(n)</h4>
<h4 id="16111-get_standard_analog_outn">16.1.11 get_standard_analog_out(n)</h4>
<h4 id="16112-get_standard_digital_inn">16.1.12 get_standard_digital_in(n)</h4>
<h4 id="16113-get_standard_digital_outn">16.1.13 get_standard_digital_out(n)</h4>
<h4 id="16114-get_tool_analog_inn">16.1.14 get_tool_analog_in(n)</h4>
<h4 id="16115-get_tool_digital_inn">16.1.15 get_tool_digital_in(n)</h4>
<h4 id="16116-get_tool_digital_outn">16.1.16 get_tool_digital_out(n)</h4>
<h4 id="16117-modbus_add_signalip-slave_number-signal_address-signal_type-signal_name-sequential_modefalse">16.1.17 modbus_add_signal(IP, slave_number, signal_address, signal_type, signal_name, sequential_mode=False)</h4>
<h4 id="16118-modbus_delete_signalsignal_name">16.1.18 modbus_delete_signal(signal_name)</h4>
<h4 id="16119-modbus_get_signal_statussignal_name-is_secondary_program">16.1.19 modbus_get_signal_status(signal_name, is_secondary_program)</h4>
<h4 id="16120-modbus_send_custom_commandip-slave_number-function_code-data">16.1.20 modbus_send_custom_command(IP, slave_number, function_code, data)</h4>
<h4 id="16121-modbus_set_digital_input_actionsignal_name-action">16.1.21 modbus_set_digital_input_action(signal_name, action)</h4>
<h4 id="16122-modbus_set_output_registersignal_name-register_value-is_secondary_program">16.1.22 modbus_set_output_register(signal_name, register_value, is_secondary_program)</h4>
<h4 id="16123-modbus_set_output_signalsignal_name-digital_value-is_secondary_program">16.1.23 modbus_set_output_signal(signal_name, digital_value, is_secondary_program)</h4>
<h4 id="16124-modbus_set_signal_update_frequencysignal_name-update_frequency">16.1.24 modbus_set_signal_update_frequency(signal_name, update_frequency)</h4>
<h4 id="16125-read_input_boolean_registeraddress">16.1.25 read_input_boolean_register(address)</h4>
<h4 id="16126-read_input_float_registeraddress">16.1.26 read_input_float_register(address)</h4>
<h4 id="16127-read_input_integer_registeraddress">16.1.27 read_input_integer_register(address)</h4>
<h4 id="16128-read_output_boolean_registeraddress">16.1.28 read_output_boolean_register(address)</h4>
<h4 id="16129-read_output_float_registeraddress">16.1.29 read_output_float_register(address)</h4>
<h4 id="16130-read_output_integer_registeraddress">16.1.30 read_output_integer_register(address)</h4>
<h4 id="16131-read_port_bitaddress">16.1.31 read_port_bit(address)</h4>
<h4 id="16132-read_port_registeraddress">16.1.32 read_port_register(address)</h4>
<h4 id="16133-rpc_factorytype-url">16.1.33 rpc_factory(type, url)</h4>
<h4 id="16134-rtde_set_watchdogvariable_name-min_frequency-actionpause">16.1.34 rtde_set_watchdog(variable_name, min_frequency, action=’pause’)</h4>
<h4 id="16135-set_analog_inputrangeport-range">16.1.35 set_analog_inputrange(port, range)</h4>
<h4 id="16136-set_analog_outn-f">16.1.36 set_analog_out(n, f )</h4>
<h4 id="16137-set_configurable_digital_outn-b">16.1.37 set_configurable_digital_out(n, b)</h4>
<h4 id="16138-set_digital_outn-b">16.1.38 set_digital_out(n, b)</h4>
<h4 id="16139-set_flagn-b">16.1.39 set_flag(n, b)</h4>
<h4 id="16140-set_standard_analog_outn-f">16.1.40 set_standard_analog_out(n, f)</h4>
<h4 id="16141-set_standard_digital_outn-b">16.1.41 set_standard_digital_out(n, b)</h4>
<h4 id="16142-set_tool_digital_outn-b">16.1.42 set_tool_digital_out(n, b)</h4>
<h4 id="16143-set_tool_communicationenabled-baud_rate-parity-stop_bits">16.1.43 set_tool_communication(enabled, baud_rate, parity, stop_bits, )</h4>
<h4 id="16144-set_tool_voltagevoltage">16.1.44 set_tool_voltage(voltage)</h4>
<h4 id="16145-socket_closesocket_namesocket_0">16.1.45 socket_close(socket_name=’socket_0’)</h4>
<h4 id="16146-socket_get_varname-socket_namesocket_0">16.1.46 socket_get_var(name, socket_name=’socket_0’)</h4>
<h4 id="16147-socket_openaddress-port-socket_namesocket_0">16.1.47 socket_open(address, port, socket_name=’socket_0’)</h4>
<h4 id="16148-socket_read_ascii_floatnumber-socket_namesocket_0-timeout2">16.1.48 socket_read_ascii_float(number, socket_name=’socket_0’, timeout=2)</h4>
<h4 id="16149-socket_read_binary_integernumber-socket_namesocket_0-timeout2">16.1.49 socket_read_binary_integer(number, socket_name=’socket_0’, timeout=2)</h4>
<h4 id="16150-socket_read_byte_listnumber-socket_namesocket_0-timeout2">16.1.50 socket_read_byte_list(number, socket_name=’socket_0’, timeout=2)</h4>
<h4 id="161socket_read_linesocket_namesocket_0-timeout2">16.1.socket_read_line(socket_name=’socket_0’, timeout=2)</h4>
<h4 id="16151-socket_read_stringsocket_namesocket_0-prefix-suffix-interpret_escapefalse-timeout2">16.1.51 socket_read_string(socket_name=’socket_0’, prefix =’’, suffix =’’, interpret_escape=’False’, timeout=2)</h4>
<h4 id="16152-socket_send_bytevalue-socket_namesocket_0">16.1.52 socket_send_byte(value, socket_name=’socket_0’)</h4>
<h4 id="16153-socket_send_intvalue-socket_namesocket_0">16.1.53 socket_send_int(value, socket_name=’socket_0’)</h4>
<h4 id="16154-socket_send_linestr-socket_namesocket_0">16.1.54 socket_send_line(str, socket_name=’socket_0’)</h4>
<h4 id="16155-socket_send_stringstr-socket_namesocket_0">16.1.55 socket_send_string(str, socket_name=’socket_0’)</h4>
<h4 id="16156-socket_set_varname-value-socket_namesocket_0">16.1.56 socket_set_var(name, value, socket_name=’socket_0’)</h4>
<h4 id="16157-write_output_boolean_registeraddress-value">16.1.57 write_output_boolean_register(address, value)</h4>
<h4 id="16158-write_output_float_registeraddress-value">16.1.58 write_output_float_register(address, value)</h4>
<h4 id="16159-write_output_integer_registeraddress-value">16.1.59 write_output_integer_register(address, value)</h4>
<h4 id="16160-write_port_bitaddress-value">16.1.60 write_port_bit(address, value)</h4>
<h4 id="16161-write_port_registeraddress-value">16.1.61 write_port_register(address, value)</h4>
<h4 id="16162-zero_ftsensor">16.1.62 zero_ftsensor()</h4>
<h2 id="17-module-io-configuration">17. Module IO Configuration</h2>
<h3 id="171-functions">17.1 Functions</h3>
<h4 id="1711-modbus_set_runstate_dependent_choicesignal_name-runstate_choice">17.1.1 modbus_set_runstate_dependent_choice(signal_name, runstate_choice)</h4>
<h4 id="1712-set_analog_outputdomainport-domain">17.1.2 set_analog_outputdomain(port, domain)</h4>
<h4 id="1713-set_configurable_digital_input_actionport-action">17.1.3 set_configurable_digital_input_action(port, action)</h4>
<h4 id="1714-set_gp_boolean_input_actionport-action">17.1.4 set_gp_boolean_input_action(port, action)</h4>
<h4 id="1715-set_input_actions_to_default">17.1.5 set_input_actions_to_default()</h4>
<h4 id="1716-set_runstate_configurable_digital_output_to_valueoutputid-state">17.1.6 set_runstate_configurable_digital_output_to_value(outputId, state)</h4>
<h4 id="1717-set_runstate_gp_boolean_output_to_valueoutputid-state">17.1.7 set_runstate_gp_boolean_output_to_value(outputId, state)</h4>
<h4 id="1718-set_runstate_standard_analog_output_to_valueoutputid-state">17.1.8 set_runstate_standard_analog_output_to_value(outputId, state)</h4>
<h4 id="1719-set_runstate_standard_digital_output_to_valueoutputid-state">17.1.9 set_runstate_standard_digital_output_to_value(outputId, state)</h4>
<h4 id="17110-set_runstate_tool_digital_output_to_valueoutputid-state">17.1.10 set_runstate_tool_digital_output_to_value(outputId, state)</h4>
<h4 id="17111-set_standard_analog_input_domainport-domain">17.1.11 set_standard_analog_input_domain(port, domain)</h4>
<h4 id="17112-set_standard_digital_input_actionport-action">17.1.12 set_standard_digital_input_action(port, action)</h4>
<h4 id="17113-set_tool_analog_input_domainport-domain">17.1.13 set_tool_analog_input_domain(port, domain)</h4>
<h4 id="17114-set_tool_digital_input_actionport-action">17.1.14 set_tool_digital_input_action(port, action)</h4>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Footer</title>
    <style>
        footer {
            background-color: teal; /* Change here */
            color: #fff;
            padding: 20px 0;
            text-align: center;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .social-icons {
            display: flex;
            gap: 15px;
        }

        .icon {
            padding: 10px;
            background-color: #555;
            text-decoration: none;
            color: #fff;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .icon:hover {
            background-color: #777;
        }
    </style>
</head>
<body>

<!-- Your main website content here -->

<footer>
    <div class="footer-content">
        <div class="copyright-info">
            &copy; <span id="currentYear"></span> Beck Isakov. All rights reserved.
        </div>
        <div class="social-icons">
            <a href="#" target="_blank" class="icon facebook">FB</a>
            <a href="#" target="_blank" class="icon twitter">TW</a>
            <a href="#" target="_blank" class="icon instagram">IG</a>
            <!-- Add other social media links as required -->
        </div>
    </div>
</footer>

<script>
    document.getElementById("currentYear").textContent = new Date().getFullYear();
</script>
</body>
</html>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.copy"], "search": "../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.78eede0e.min.js"></script>
      
    
  </body>
</html>